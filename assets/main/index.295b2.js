window.__require=function e(t,n,i){function o(s,r){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){return o(t[s][1][e]||e)},h,h.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t){var n,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function r(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var l,h=[],u=!1,p=-1;function d(){u&&l&&(u=!1,l.length?h=l.concat(h):p=-1,h.length&&f())}function f(){if(!u){var e=r(d);u=!0;for(var t=h.length;t;){for(l=h,h=[];++p<t;)l&&l[p].run();p=-1,t=h.length}l=null,u=!1,c(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new m(e,t)),1!==h.length||u||r(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(){return[]},o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){var i;i=function(t){"use strict";function n(e,...t){return(...n)=>e(...t,...n)}function i(e){return function(...t){var n=t.pop();return e.call(this,t,n)}}var o="function"==typeof queueMicrotask&&queueMicrotask,a="function"==typeof setImmediate&&setImmediate,s="object"==typeof e&&"function"==typeof e.nextTick;function r(e){setTimeout(e,0)}function c(e){return(t,...n)=>e(()=>t(...n))}var l=c(o?queueMicrotask:a?setImmediate:s?e.nextTick:r);function h(e){return d(e)?function(...t){const n=t.pop();return u(e.apply(this,t),n)}:i(function(t,n){var i;try{i=e.apply(this,t)}catch(o){return n(o)}if(i&&"function"==typeof i.then)return u(i,n);n(null,i)})}function u(e,t){return e.then(e=>{p(t,null,e)},e=>{p(t,e&&e.message?e:new Error(e))})}function p(e,t,n){try{e(t,n)}catch(i){l(e=>{throw e},i)}}function d(e){return"AsyncFunction"===e[Symbol.toStringTag]}function f(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function m(e){return"function"==typeof e[Symbol.asyncIterator]}function g(e){if("function"!=typeof e)throw new Error("expected a function");return d(e)?h(e):e}function v(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...n){return"function"==typeof n[t-1]?e.apply(this,n):new Promise((i,o)=>{n[t-1]=(e,...t)=>{if(e)return o(e);i(t.length>1?t:t[0])},e.apply(this,n)})}}function y(e){return function(t,...n){return v(function(i){var o=this;return e(t,(e,t)=>{g(e).apply(o,n.concat(t))},i)})}}function b(e,t,n,i){t=t||[];var o=[],a=0,s=g(n);return e(t,(e,t,n)=>{var i=a++;s(e,(e,t)=>{o[i]=t,n(e)})},e=>{i(e,o)})}function C(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const S={};function _(e){function t(...t){if(null!==e){var n=e;e=null,n.apply(this,t)}}return Object.assign(t,e),t}function x(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}function w(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function k(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function P(e){if(C(e))return w(e);var t,n,i,o,a=x(e);return a?k(a):(n=(t=e)?Object.keys(t):[],i=-1,o=n.length,function(){var e=n[++i];return i<o?{value:t[e],key:e}:null})}function I(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,t)}}function F(e,t,n,i){let o=!1,a=!1,s=!1,r=0,c=0;function l(){r>=t||s||o||(s=!0,e.next().then(({value:e,done:t})=>{if(!a&&!o){if(s=!1,t)return o=!0,void(r<=0&&i(null));r++,n(e,c,h),c++,l()}}).catch(u))}function h(e,t){if(r-=1,!a)return e?u(e):!1===e?(o=!0,void(a=!0)):t===S||o&&r<=0?(o=!0,i(null)):void l()}function u(e){a||(s=!1,o=!0,i(e))}l()}var A=e=>(t,n,i)=>{if(i=_(i),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return i(null);if(f(t))return F(t,e,n,i);if(m(t))return F(t[Symbol.asyncIterator](),e,n,i);var o=P(t),a=!1,s=!1,r=0,c=!1;function l(e,t){if(!s)if(r-=1,e)a=!0,i(e);else if(!1===e)a=!0,s=!0;else{if(t===S||a&&r<=0)return a=!0,i(null);c||h()}}function h(){for(c=!0;r<e&&!a;){var t=o();if(null===t)return a=!0,void(r<=0&&i(null));r+=1,n(t.value,t.key,I(l))}c=!1}h()},T=v(function(e,t,n,i){return A(t)(e,g(n),i)},4);function B(e,t,n){n=_(n);var i=0,o=0,{length:a}=e,s=!1;function r(e,t){!1===e&&(s=!0),!0!==s&&(e?n(e):++o!==a&&t!==S||n(null))}for(0===a&&n(null);i<a;i++)t(e[i],i,I(r))}function D(e,t,n){return T(e,1/0,t,n)}var R=v(function(e,t,n){return(C(e)?B:D)(e,g(t),n)},3),L=v(function(e,t,n){return b(R,e,t,n)},3),M=y(L),N=v(function(e,t,n){return T(e,1,t,n)},3),U=v(function(e,t,n){return b(N,e,t,n)},3),E=y(U);const H=Symbol("promiseCallback");function O(){let e,t;function n(n,...i){if(n)return t(n);e(i.length>1?i:i[0])}return n[H]=new Promise((n,i)=>{e=n,t=i}),n}function G(e,t,n){"number"!=typeof t&&(n=t,t=null),n=_(n||O());var i=Object.keys(e).length;if(!i)return n(null);t||(t=i);var o={},a=0,s=!1,r=!1,c=Object.create(null),l=[],h=[],u={};function p(e,t){l.push(()=>v(e,t))}function d(){if(!s){if(0===l.length&&0===a)return n(null,o);for(;l.length&&a<t;)l.shift()()}}function f(e,t){var n=c[e];n||(n=c[e]=[]),n.push(t)}function m(e){(c[e]||[]).forEach(e=>e()),d()}function v(e,t){if(!r){var i=I((t,...i)=>{if(a--,!1!==t)if(i.length<2&&([i]=i),t){var l={};if(Object.keys(o).forEach(e=>{l[e]=o[e]}),l[e]=i,r=!0,c=Object.create(null),s)return;n(t,l)}else o[e]=i,m(e);else s=!0});a++;var l=g(t[t.length-1]);t.length>1?l(o,i):l(i)}}function y(t){var n=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)&&o.indexOf(t)>=0&&n.push(i)}),n}return Object.keys(e).forEach(t=>{var n=e[t];if(!Array.isArray(n))return p(t,[n]),void h.push(t);var i=n.slice(0,n.length-1),o=i.length;if(0===o)return p(t,n),void h.push(t);u[t]=o,i.forEach(a=>{if(!e[a])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+a+"` in "+i.join(", "));f(a,()=>{0==--o&&p(t,n)})})}),function(){for(var e=0;h.length;)e++,y(h.pop()).forEach(e=>{0==--u[e]&&h.push(e)});if(e!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),n[H]}var j=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,z=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,W=/,/,J=/(=.+)?(\s*)$/,q=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function K(e){const t=e.toString().replace(q,"");let n=t.match(j);if(n||(n=t.match(z)),!n)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,i]=n;return i.replace(/\s/g,"").split(W).map(e=>e.replace(J,"").trim())}function V(e,t){var n={};return Object.keys(e).forEach(t=>{var i,o=e[t],a=d(o),s=!a&&1===o.length||a&&0===o.length;if(Array.isArray(o))i=[...o],o=i.pop(),n[t]=i.concat(i.length>0?r:o);else if(s)n[t]=o;else{if(i=K(o),0===o.length&&!a&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");a||i.pop(),n[t]=i.concat(r)}function r(e,t){var n=i.map(t=>e[t]);n.push(t),g(o)(...n)}}),G(n,t)}class X{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):Q(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):Q(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:n}=t;e(t)&&this.removeLink(t),t=n}return this}}function Q(e,t){e.length=1,e.head=e.tail=t}function Y(e,t,n){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var i=g(e),o=0,a=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function r(e,t){s[e].push(t)}function c(e,t){const n=(...i)=>{h(e,n),t(...i)};s[e].push(n)}function h(e,t){return e?t?void(s[e]=s[e].filter(e=>e!==t)):s[e]=[]:Object.keys(s).forEach(e=>s[e]=[])}function u(e,...t){s[e].forEach(e=>e(...t))}var p=!1;function d(e,t,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");var o,a;function s(e,...t){return e?n?a(e):o():t.length<=1?o(t[0]):void o(t)}b.started=!0;var r={data:e,callback:n?s:i||s};if(t?b._tasks.unshift(r):b._tasks.push(r),p||(p=!0,l(()=>{p=!1,b.process()})),n||!i)return new Promise((e,t)=>{o=e,a=t})}function f(e){return function(t,...n){o-=1;for(var i=0,s=e.length;i<s;i++){var r=e[i],c=a.indexOf(r);0===c?a.shift():c>0&&a.splice(c,1),r.callback(t,...n),null!=t&&u("error",t,r.data)}o<=b.concurrency-b.buffer&&u("unsaturated"),b.idle()&&u("drain"),b.process()}}function m(e){return!(0!==e.length||!b.idle()||(l(()=>u("drain")),0))}const v=e=>t=>{if(!t)return new Promise((t,n)=>{c(e,(e,i)=>{if(e)return n(e);t(i)})});h(e),r(e,t)};var y=!1,b={_tasks:new X,*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:t,payload:n,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(m(e))return;return e.map(e=>d(e,!1,!1,t))}return d(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(m(e))return;return e.map(e=>d(e,!1,!0,t))}return d(e,!1,!0,t)},kill(){h(),b._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(m(e))return;return e.map(e=>d(e,!0,!1,t))}return d(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(m(e))return;return e.map(e=>d(e,!0,!0,t))}return d(e,!0,!0,t)},remove(e){b._tasks.remove(e)},process(){if(!y){for(y=!0;!b.paused&&o<b.concurrency&&b._tasks.length;){var e=[],t=[],n=b._tasks.length;b.payload&&(n=Math.min(n,b.payload));for(var s=0;s<n;s++){var r=b._tasks.shift();e.push(r),a.push(r),t.push(r.data)}o+=1,0===b._tasks.length&&u("empty"),o===b.concurrency&&u("saturated");var c=I(f(e));i(t,c)}y=!1}},length:()=>b._tasks.length,running:()=>o,workersList:()=>a,idle:()=>b._tasks.length+o===0,pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,l(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:v("saturated")},unsaturated:{writable:!1,value:v("unsaturated")},empty:{writable:!1,value:v("empty")},drain:{writable:!1,value:v("drain")},error:{writable:!1,value:v("error")}}),b}function Z(e,t){return Y(e,1,t)}function $(e,t,n){return Y(e,t,n)}var ee=v(function(e,t,n,i){i=_(i);var o=g(n);return N(e,(e,n,i)=>{o(t,e,(e,n)=>{t=n,i(e)})},e=>i(e,t))},4);function te(...e){var t=e.map(g);return function(...e){var n=this,i=e[e.length-1];return"function"==typeof i?e.pop():i=O(),ee(t,e,(e,t,i)=>{t.apply(n,e.concat((e,...t)=>{i(e,t)}))},(e,t)=>i(e,...t)),i[H]}}function ne(...e){return te(...e.reverse())}var ie=v(function(e,t,n,i){return b(A(t),e,n,i)},4),oe=v(function(e,t,n,i){var o=g(n);return ie(e,t,(e,t)=>{o(e,(e,...n)=>e?t(e):t(e,n))},(e,t)=>{for(var n=[],o=0;o<t.length;o++)t[o]&&(n=n.concat(...t[o]));return i(e,n)})},4),ae=v(function(e,t,n){return oe(e,1/0,t,n)},3),se=v(function(e,t,n){return oe(e,1,t,n)},3);function re(...e){return function(...t){return t.pop()(null,...e)}}function ce(e,t){return(n,i,o,a)=>{var s,r=!1;const c=g(o);n(i,(n,i,o)=>{c(n,(i,a)=>i||!1===i?o(i):e(a)&&!s?(r=!0,s=t(!0,n),o(null,S)):void o())},e=>{if(e)return a(e);a(null,r?s:t(!1))})}}var le=v(function(e,t,n){return ce(e=>e,(e,t)=>t)(R,e,t,n)},3),he=v(function(e,t,n,i){return ce(e=>e,(e,t)=>t)(A(t),e,n,i)},4),ue=v(function(e,t,n){return ce(e=>e,(e,t)=>t)(A(1),e,t,n)},3);function pe(e){return(t,...n)=>g(t)(...n,(t,...n)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&n.forEach(t=>console[e](t)))})}var de=pe("dir"),fe=v(function(e,t,n){n=I(n);var i,o=g(e),a=g(t);function s(e,...t){if(e)return n(e);!1!==e&&(i=t,a(...t,r))}function r(e,t){return e?n(e):!1!==e?t?void o(s):n(null,...i):void 0}return r(null,!0)},3);function me(e,t,n){const i=g(t);return fe(e,(...e)=>{const t=e.pop();i(...e,(e,n)=>t(e,!n))},n)}function ge(e){return(t,n,i)=>e(t,i)}var ve=v(function(e,t,n){return R(e,ge(g(t)),n)},3),ye=v(function(e,t,n,i){return A(t)(e,ge(g(n)),i)},4),be=v(function(e,t,n){return ye(e,1,t,n)},3);function Ce(e){return d(e)?e:function(...t){var n=t.pop(),i=!0;t.push((...e)=>{i?l(()=>n(...e)):n(...e)}),e.apply(this,t),i=!1}}var Se=v(function(e,t,n){return ce(e=>!e,e=>!e)(R,e,t,n)},3),_e=v(function(e,t,n,i){return ce(e=>!e,e=>!e)(A(t),e,n,i)},4),xe=v(function(e,t,n){return ce(e=>!e,e=>!e)(N,e,t,n)},3);function we(e,t,n,i){var o=new Array(t.length);e(t,(e,t,i)=>{n(e,(e,n)=>{o[t]=!!n,i(e)})},e=>{if(e)return i(e);for(var n=[],a=0;a<t.length;a++)o[a]&&n.push(t[a]);i(null,n)})}function ke(e,t,n,i){var o=[];e(t,(e,t,i)=>{n(e,(n,a)=>{if(n)return i(n);a&&o.push({index:t,value:e}),i(n)})},e=>{if(e)return i(e);i(null,o.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function Pe(e,t,n,i){return(C(t)?we:ke)(e,t,g(n),i)}var Ie=v(function(e,t,n){return Pe(R,e,t,n)},3),Fe=v(function(e,t,n,i){return Pe(A(t),e,n,i)},4),Ae=v(function(e,t,n){return Pe(N,e,t,n)},3),Te=v(function(e,t){var n=I(t),i=g(Ce(e));return function e(t){if(t)return n(t);!1!==t&&i(e)}()},2),Be=v(function(e,t,n,i){var o=g(n);return ie(e,t,(e,t)=>{o(e,(n,i)=>n?t(n):t(n,{key:i,val:e}))},(e,t)=>{for(var n={},{hasOwnProperty:o}=Object.prototype,a=0;a<t.length;a++)if(t[a]){var{key:s}=t[a],{val:r}=t[a];o.call(n,s)?n[s].push(r):n[s]=[r]}return i(e,n)})},4);function De(e,t,n){return Be(e,1/0,t,n)}function Re(e,t,n){return Be(e,1,t,n)}var Le=pe("log"),Me=v(function(e,t,n,i){i=_(i);var o={},a=g(n);return A(t)(e,(e,t,n)=>{a(e,t,(e,i)=>{if(e)return n(e);o[t]=i,n(e)})},e=>i(e,o))},4);function Ne(e,t,n){return Me(e,1/0,t,n)}function Ue(e,t,n){return Me(e,1,t,n)}function Ee(e,t=(e=>e)){var n=Object.create(null),o=Object.create(null),a=g(e),s=i((e,i)=>{var s=t(...e);s in n?l(()=>i(null,...n[s])):s in o?o[s].push(i):(o[s]=[i],a(...e,(e,...t)=>{e||(n[s]=t);var i=o[s];delete o[s];for(var a=0,r=i.length;a<r;a++)i[a](e,...t)}))});return s.memo=n,s.unmemoized=e,s}var He=c(s?e.nextTick:a?setImmediate:r),Oe=v((e,t,n)=>{var i=C(t)?[]:{};e(t,(e,t,n)=>{g(e)((e,...o)=>{o.length<2&&([o]=o),i[t]=o,n(e)})},e=>n(e,i))},3);function Ge(e,t){return Oe(R,e,t)}function je(e,t,n){return Oe(A(t),e,n)}function ze(e,t){var n=g(e);return Y((e,t)=>{n(e[0],t)},t,1)}class We{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&qe(this.heap[e],this.heap[t=Je(e)]);){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&qe(this.heap[t+1],this.heap[t])&&(t+=1),!qe(this.heap[e],this.heap[t]));){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[t]=this.heap[n],t++);this.heap.splice(t);for(let n=Je(this.heap.length-1);n>=0;n--)this.percDown(n);return this}}function Je(e){return(e+1>>1)-1}function qe(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Ke(e,t){var n=ze(e,t),i=!1;return n._tasks=new We,n.push=function(e,t=0,o=(()=>{})){if("function"!=typeof o)throw new Error("task callback must be a function");if(n.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&n.idle())return l(()=>n.drain());for(var a=0,s=e.length;a<s;a++){var r={data:e[a],priority:t,callback:o};n._tasks.push(r)}i||(i=!0,l(()=>{i=!1,n.process()}))},delete n.unshift,n}var Ve=v(function(e,t){if(t=_(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,i=e.length;n<i;n++)g(e[n])(t)},2);function Xe(e,t,n,i){var o=[...e].reverse();return ee(o,t,n,i)}function Qe(e){var t=g(e);return i(function(e,n){return e.push((e,...t)=>{let i={};if(e&&(i.error=e),t.length>0){var o=t;t.length<=1&&([o]=t),i.value=o}n(null,i)}),t.apply(this,e)})}function Ye(e){var t;return Array.isArray(e)?t=e.map(Qe):(t={},Object.keys(e).forEach(n=>{t[n]=Qe.call(this,e[n])})),t}function Ze(e,t,n,i){const o=g(n);return Pe(e,t,(e,t)=>{o(e,(e,n)=>{t(e,!n)})},i)}var $e=v(function(e,t,n){return Ze(R,e,t,n)},3),et=v(function(e,t,n,i){return Ze(A(t),e,n,i)},4),tt=v(function(e,t,n){return Ze(N,e,t,n)},3);function nt(e){return function(){return e}}const it=5,ot=0;function at(e,t,n){var i={times:it,intervalFunc:nt(ot)};if(arguments.length<3&&"function"==typeof e?(n=t||O(),t=e):(st(i,e),n=n||O()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var o=g(t),a=1;return function e(){o((t,...o)=>{!1!==t&&(t&&a++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(t))?setTimeout(e,i.intervalFunc(a-1)):n(t,...o))})}(),n[H]}function st(e,t){if("object"==typeof t)e.times=+t.times||it,e.intervalFunc="function"==typeof t.interval?t.interval:nt(+t.interval||ot),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||it}}function rt(e,t){t||(t=e,e=null);let n=e&&e.arity||t.length;d(t)&&(n+=1);var o=g(t);return i((t,i)=>{function a(e){o(...t,e)}return(t.length<n-1||null==i)&&(t.push(i),i=O()),e?at(e,a,i):at(a,i),i[H]})}function ct(e,t){return Oe(N,e,t)}var lt=v(function(e,t,n){return ce(Boolean,e=>e)(R,e,t,n)},3),ht=v(function(e,t,n,i){return ce(Boolean,e=>e)(A(t),e,n,i)},4),ut=v(function(e,t,n){return ce(Boolean,e=>e)(N,e,t,n)},3),pt=v(function(e,t,n){var i=g(t);return L(e,(e,t)=>{i(e,(n,i)=>{if(n)return t(n);t(n,{value:e,criteria:i})})},(e,t)=>{if(e)return n(e);n(null,t.sort(o).map(e=>e.value))});function o(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0}},3);function dt(e,t,n){var o=g(e);return i((i,a)=>{var s,r=!1;i.push((...e)=>{r||(a(...e),clearTimeout(s))}),s=setTimeout(function(){var t=e.name||"anonymous",i=new Error('Callback function "'+t+'" timed out.');i.code="ETIMEDOUT",n&&(i.info=n),r=!0,a(i)},t),o(...i)})}function ft(e){for(var t=Array(e);e--;)t[e]=e;return t}function mt(e,t,n,i){var o=g(n);return ie(ft(e),t,o,i)}function gt(e,t,n){return mt(e,1/0,t,n)}function vt(e,t,n){return mt(e,1,t,n)}function yt(e,t,n,i){arguments.length<=3&&"function"==typeof t&&(i=n,n=t,t=Array.isArray(e)?[]:{}),i=_(i||O());var o=g(n);return R(e,(e,n,i)=>{o(t,e,n,i)},e=>i(e,t)),i[H]}var bt=v(function(e,t){var n,i=null;return be(e,(e,t)=>{g(e)((e,...o)=>{if(!1===e)return t(e);o.length<2?[n]=o:n=o,i=e,t(e?null:{})})},()=>t(i,n))});function Ct(e){return(...t)=>(e.unmemoized||e)(...t)}var St=v(function(e,t,n){n=I(n);var i=g(t),o=g(e),a=[];function s(e,...t){if(e)return n(e);a=t,!1!==e&&o(r)}function r(e,t){return e?n(e):!1!==e?t?void i(s):n(null,...a):void 0}return o(r)},3);function _t(e,t,n){const i=g(e);return St(e=>i((t,n)=>e(t,!n)),t,n)}var xt=v(function(e,t){if(t=_(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function i(t){g(e[n++])(...t,I(o))}function o(o,...a){if(!1!==o)return o||n===e.length?t(o,...a):void i(a)}i([])}),wt={apply:n,applyEach:M,applyEachSeries:E,asyncify:h,auto:G,autoInject:V,cargo:Z,cargoQueue:$,compose:ne,concat:ae,concatLimit:oe,concatSeries:se,constant:re,detect:le,detectLimit:he,detectSeries:ue,dir:de,doUntil:me,doWhilst:fe,each:ve,eachLimit:ye,eachOf:R,eachOfLimit:T,eachOfSeries:N,eachSeries:be,ensureAsync:Ce,every:Se,everyLimit:_e,everySeries:xe,filter:Ie,filterLimit:Fe,filterSeries:Ae,forever:Te,groupBy:De,groupByLimit:Be,groupBySeries:Re,log:Le,map:L,mapLimit:ie,mapSeries:U,mapValues:Ne,mapValuesLimit:Me,mapValuesSeries:Ue,memoize:Ee,nextTick:He,parallel:Ge,parallelLimit:je,priorityQueue:Ke,queue:ze,race:Ve,reduce:ee,reduceRight:Xe,reflect:Qe,reflectAll:Ye,reject:$e,rejectLimit:et,rejectSeries:tt,retry:at,retryable:rt,seq:te,series:ct,setImmediate:l,some:lt,someLimit:ht,someSeries:ut,sortBy:pt,timeout:dt,times:gt,timesLimit:mt,timesSeries:vt,transform:yt,tryEach:bt,unmemoize:Ct,until:_t,waterfall:xt,whilst:St,all:Se,allLimit:_e,allSeries:xe,any:lt,anyLimit:ht,anySeries:ut,find:le,findLimit:he,findSeries:ue,flatMap:ae,flatMapLimit:oe,flatMapSeries:se,forEach:ve,forEachSeries:be,forEachLimit:ye,forEachOf:R,forEachOfSeries:N,forEachOfLimit:T,inject:ee,foldl:ee,foldr:Xe,select:Ie,selectLimit:Fe,selectSeries:Ae,wrapSync:h,during:St,doDuring:fe};t.default=wt,t.apply=n,t.applyEach=M,t.applyEachSeries=E,t.asyncify=h,t.auto=G,t.autoInject=V,t.cargo=Z,t.cargoQueue=$,t.compose=ne,t.concat=ae,t.concatLimit=oe,t.concatSeries=se,t.constant=re,t.detect=le,t.detectLimit=he,t.detectSeries=ue,t.dir=de,t.doUntil=me,t.doWhilst=fe,t.each=ve,t.eachLimit=ye,t.eachOf=R,t.eachOfLimit=T,t.eachOfSeries=N,t.eachSeries=be,t.ensureAsync=Ce,t.every=Se,t.everyLimit=_e,t.everySeries=xe,t.filter=Ie,t.filterLimit=Fe,t.filterSeries=Ae,t.forever=Te,t.groupBy=De,t.groupByLimit=Be,t.groupBySeries=Re,t.log=Le,t.map=L,t.mapLimit=ie,t.mapSeries=U,t.mapValues=Ne,t.mapValuesLimit=Me,t.mapValuesSeries=Ue,t.memoize=Ee,t.nextTick=He,t.parallel=Ge,t.parallelLimit=je,t.priorityQueue=Ke,t.queue=ze,t.race=Ve,t.reduce=ee,t.reduceRight=Xe,t.reflect=Qe,t.reflectAll=Ye,t.reject=$e,t.rejectLimit=et,t.rejectSeries=tt,t.retry=at,t.retryable=rt,t.seq=te,t.series=ct,t.setImmediate=l,t.some=lt,t.someLimit=ht,t.someSeries=ut,t.sortBy=pt,t.timeout=dt,t.times=gt,t.timesLimit=mt,t.timesSeries=vt,t.transform=yt,t.tryEach=bt,t.unmemoize=Ct,t.until=_t,t.waterfall=xt,t.whilst=St,t.all=Se,t.allLimit=_e,t.allSeries=xe,t.any=lt,t.anyLimit=ht,t.anySeries=ut,t.find=le,t.findLimit=he,t.findSeries=ue,t.flatMap=ae,t.flatMapLimit=oe,t.flatMapSeries=se,t.forEach=ve,t.forEachSeries=be,t.forEachLimit=ye,t.forEachOf=R,t.forEachOfSeries=N,t.forEachOfLimit=T,t.inject=ee,t.foldl=ee,t.foldr=Xe,t.select=Ie,t.selectLimit=Fe,t.selectSeries=Ae,t.wrapSync=h,t.during=St,t.doDuring=fe,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(this.async={})}).call(this,e("_process"))},{_process:1}],AnimHelper:[function(e,t){"use strict";cc._RF.push(t,"d6ff4kVMSdOh7u6WwhErR6E","AnimHelper"),cc.Class({extends:cc.Component,properties:{particleToPlay:cc.ParticleSystem,finishHandler:cc.Component.EventHandler,fireHandler:cc.Component.EventHandler},playParticle:function(){this.particleToPlay&&this.particleToPlay.resetSystem()},fire:function(){cc.Component.EventHandler.emitEvents([this.fireHandler])},finish:function(){cc.Component.EventHandler.emitEvents([this.finishHandler])}}),cc._RF.pop()},{}],BGPool:[function(e,t){"use strict";cc._RF.push(t,"16ee7ZnsPBCT4NuNVNLJJz2","BGPool");var n=cc.Class({name:"BGPool",properties:{bg:cc.SpriteFrame,bgcolor:cc.Color},ctor:function(){this.idx=0,this.initList=[],this.list=[]},init:function(){var e=cc.find("Canvas/root/bg");e.getComponent("cc.Sprite").spriteFrame=this.bg,e.enabled=!1,e.enabled=!0,cc.find("Canvas/Main Camera").getComponent("cc.Camera").backgroundColor=this.bgcolor,cc.log("bgc:"+this.bgcolor)}});t.exports=n,cc._RF.pop()},{}],BackPackUI:[function(e,t){"use strict";cc._RF.push(t,"96a192UeP9FDZ6jqVOqcUAs","BackPackUI");var n,i,o=[],a=[],s=[],r=999,c=999;cc.Class({extends:cc.Component,properties:{slotPrefab:{default:null,type:cc.Prefab},scrollView:{default:null,type:cc.ScrollView},btnPre:cc.Node,btnNext:cc.Node},init:function(e){this.home=e},addHeroSlot:function(e){var t=cc.instantiate(this.slotPrefab);this.scrollView.content.addChild(t),t.getComponent("HeroSlot").updateHeroslot(o[e].genes),t.getComponent("HeroSlot").refresh(o[e]);var n=new cc.Component.EventHandler;return n.target=this.node,n.component="BackPackUI",n.handler="onClickItem",n.customEventData={index:e},t.getComponent("HeroSlot").dbbutton.clickEvents.push(n),t},onClickItem:function(e,t){e.target;var n=t.index,i=cc.find("Canvas/heroPanel");i.getChildByName("hero01").getComponent("hero").updateHero(o[n]),i.getComponent("heroPanelUI").updatePanelDate(o[n]),i.getComponent("PanelUI").show(),i.getChildByName("btnPanDefi").active=!1,i.getChildByName("btnPanSwap").active=!1,i.getChildByName("btnPanMine").active=!0,cc.find("Canvas/heroPanel/info/nftprice").active=!0},show:function(){if(cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/defiPanel").getComponent("DefiUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").hide(),this.myheroSlots)for(var e=0;e<this.myheroSlots.length;++e)this.myheroSlots[e].destroy();var t=cc.sys.localStorage.getItem("HeroData");t&&(a=JSON.parse(t),s=a),n=1,i=parseInt(s.length/36)+1,999!=r&&this.selectCate(this,r),o=s.slice(0,36),this.checkPage(),this.myheroSlots=[];for(var c=0;c<o.length;++c)if(null!=o[c]){var l=this.addHeroSlot(c);this.myheroSlots.push(l)}this.node.active=!0,this.node.emit("fade-in"),this.home.toggleHomeBtns(!1)},hide:function(){if(cc.find("Canvas/backPack/catePan/all").getComponent(cc.Toggle).isChecked=!0,cc.find("Canvas/backPack/sortPan/nftup").getComponent(cc.Toggle).isChecked=!0,this.myheroSlots)for(var e=0;e<this.myheroSlots.length;++e)this.myheroSlots[e].destroy();this.node.emit("fade-out"),this.home.toggleHomeBtns(!0)},checkPage:function(){this.btnPre.active=n>1,this.btnNext.active=i>n},goToNext:function(){for(var e=0;e<this.myheroSlots.length;++e)this.myheroSlots[e].destroy();n+=1,o=s.slice(36*(n-1),36*n),this.checkPage(),this.myheroSlots=[],console.log(o);for(var t=0;t<o.length;++t){var i=this.addHeroSlot(t);this.myheroSlots.push(i)}},goToPre:function(){for(var e=0;e<this.myheroSlots.length;++e)this.myheroSlots[e].destroy();n-=1,o=s.slice(36*(n-1),36*n),this.checkPage(),this.myheroSlots=[];for(var t=0;t<o.length;++t){var i=this.addHeroSlot(t);this.myheroSlots.push(i)}},selectCate:function(e,t){if(r!=t){r=t;for(var l=0;l<this.myheroSlots.length;++l)this.myheroSlots[l].destroy();s=999==t?a:a.filter(function(e){return e.category==t}),999!=c&&this.sortDate(this,c),n=1,i=parseInt(s.length/36)+1,o=s.slice(0,36),this.checkPage(),this.myheroSlots=[];for(var h=0;h<o.length;++h){var u=this.addHeroSlot(h);this.myheroSlots.push(u)}}},sortDate:function(e,t){if(c!=t){c=t;for(var i=0;i<this.myheroSlots.length;++i)this.myheroSlots[i].destroy();s=1==t?s.sort(function(e,t){return parseFloat(e.nft_value)-parseFloat(t.nft_value)}):s.sort(function(e,t){return parseFloat(e.nft_value)-parseFloat(t.nft_value)}).reverse(),n=1,o=s.slice(0,36),this.checkPage(),this.myheroSlots=[];for(var a=0;a<o.length;++a){var r=this.addHeroSlot(a);this.myheroSlots.push(r)}}}}),cc._RF.pop()},{}],BossMng:[function(e,t){"use strict";cc._RF.push(t,"af14cbY2OJFKb7mH92ncVxo","BossMng");var n=e("Types").BossType,i=e("Spawn");cc.Class({extends:cc.Component,properties:{demonSpawn:i},init:function(e){this.game=e,this.waveMng=e.waveMng,this.bossIdx=0},startBoss:function(){this.bossIdx===n.Demon&&this.waveMng.startBossSpawn(this.demonSpawn)},endBoss:function(){this.bossIdx++}}),cc._RF.pop()},{Spawn:"Spawn",Types:"Types"}],BossProgress:[function(e,t){"use strict";cc._RF.push(t,"178aaufFWBMjKEMUnBNqyHl","BossProgress"),cc.Class({extends:cc.Component,properties:{fxParticle:cc.ParticleSystem,anim:cc.Animation},init:function(e){this.waveMng=e},show:function(){this.node.active=!0,this.anim.play("turn-red")},hide:function(){this.node.active=!1},showParticle:function(){this.fxParticle.resetSystem()}}),cc._RF.pop()},{}],BoxUI:[function(e,t){"use strict";cc._RF.push(t,"76f1exaIYhOronEFJ+o5VaQ","BoxUI");var n=[];e("ChargeUI"),cc.Class({extends:cc.Component,properties:{anim:cc.Animation,figure:cc.Sprite,btnsNode:cc.Node,boxPrefab:{default:null,type:cc.Prefab},scrollView:{default:null,type:cc.ScrollView}},init:function(e,t){this.home=e,this.node.active=!1,this.panelType=t,this.figure.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1,1,.96),cc.scaleTo(1,1,1))))},addHeroBox:function(e){var t=cc.instantiate(this.boxPrefab);this.scrollView.content.addChild(t),t.getChildByName("id").getComponent(cc.Label).string=n[e].bid;var i=Math.round((new Date).getTime()/1e3);n[e].buytime+8>i&&(t.color=cc.color(60,60,60));var o=new cc.Component.EventHandler;return o.target=this.node,o.component="BoxUI",o.handler="onClickItem",o.customEventData={index:e},t.getChildByName("btn_box").getComponent(cc.Button).clickEvents.push(o),t},onClickItem:function(e,t){e.target,this.anim.play("box_open");var n=t.index;cc.find("CCC").getComponent("CCCManager").openbox(this,n)},show:function(){var e=cc.sys.localStorage.getItem("HeroBoxData");e&&(n=JSON.parse(e)),this.heroBoxs=[];for(var t=0;t<n.length;++t){var i=this.addHeroBox(t);this.heroBoxs.push(i)}this.node.active=!0,this.anim.play("box_intro"),this.home.toggleHomeBtns(!1),this.onFinishShow()},hide:function(){for(var e=0;e<this.heroBoxs.length;++e)this.heroBoxs[e].destroy();this.anim.play("box_outro"),this.scheduleOnce(function(){this.anim.play("box_reset"),this.onFinishHide()}.bind(this),.6),this.home.toggleHomeBtns(!0)},onFinishShow:function(){this.home.curPanel=this.panelType},onFinishHide:function(){this.node.active=!1}}),cc._RF.pop()},{ChargeUI:"ChargeUI"}],ButtonScaler1:[function(e,t){"use strict";cc._RF.push(t,"d7564Cn9+NOM6YfHHX7zsyO","ButtonScaler1"),cc.Class({extends:cc.Component,properties:{pressedScale:1,transDuration:0},onLoad:function(){var e=this;function t(){this.stopAllActions(),this.runAction(e.scaleUpAction)}e.initScale=this.node.scale,e.button=e.getComponent(cc.Button),e.scaleDownAction=cc.scaleTo(e.transDuration,e.pressedScale),e.scaleUpAction=cc.scaleTo(e.transDuration,e.initScale),this.node.on("touchstart",function(){this.stopAllActions(),this.runAction(e.scaleDownAction)},this.node),this.node.on("touchend",t,this.node),this.node.on("touchcancel",t,this.node)}}),cc._RF.pop()},{}],ButtonScaler:[function(e,t){"use strict";cc._RF.push(t,"f5d10E3oQ9G/LlvNZly0S2Y","ButtonScaler"),cc.Class({extends:cc.Component,properties:{pressedScale:1,transDuration:0},onLoad:function(){var e=this;function t(){this.stopAllActions(),this.runAction(e.scaleUpAction)}e.initScale=this.node.scale,e.button=e.getComponent(cc.Button),e.scaleDownAction=cc.scaleTo(e.transDuration,e.pressedScale),e.scaleUpAction=cc.scaleTo(e.transDuration,e.initScale),this.node.on("touchstart",function(){this.stopAllActions(),this.runAction(e.scaleDownAction)},this.node),this.node.on("touchend",t,this.node),this.node.on("touchcancel",t,this.node)}}),cc._RF.pop()},{}],CCCManager:[function(e,t){"use strict";function n(e,t,n,i,o,a,s){try{var r=e[a](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(i,o)}function i(e){return function(){var t=this,i=arguments;return new Promise(function(o,a){var s=e.apply(t,i);function r(e){n(s,o,a,r,c,"next",e)}function c(e){n(s,o,a,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"72e40WwrEpCnp9JEcfhaHos","CCCManager"),ScatterJS.plugins(new ScatterEOS),e("async");var o,a,s,r,c,l,h,u,p,d,f={blockchain:"eos",protocol:"https",host:"eos.greymass.com",port:"443",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},m=null,g={name:"eosio.null",eosToken:"0.0000 EOS",cccToken:"0.0000 CCC"},v={poolToken:"0.0001",defiToken:"0.0001",configs:null,userList:null,poolConfig:null,wh_ratio:null,drtotalpower2:null,userpower2:null,bal_ratio:null},y=["eospush.tokenpocket.pro","api.eosflare.io","eos.greymass.com"],b=null,C=[],S=[],_=[];cc.Class({extends:cc.Component,properties:{upperNode:cc.Node,setPanelNode:cc.Node},onLoad:function(){cc.game.addPersistRootNode(this.node)},start:function(){var e=cc.sys.localStorage.getItem("network");if(e){f=JSON.parse(e);var t="toggle"+(y.indexOf(f.host)+1).toString();this.setPanelNode.getChildByName("content").getChildByName("item2").getChildByName("ToggleContainer").getChildByName(t).getComponent(cc.Toggle).isChecked=!0}var n=cc.sys.localStorage.getItem("userData");n&&(g=JSON.parse(n)),this.setUserData(g);var i=cc.sys.localStorage.getItem("poolData");i&&(v=JSON.parse(i));var o=cc.sys.localStorage.getItem("MsgData");o&&(d=JSON.parse(o),cc.find("CCC/upper/message").getComponent("message").setMsg(d)),this.login(),this.getChainData(),this.getChainData2(),this.getChainData3(),this.getComponent("CCCManager").schedule(function(){this.getChainData()},8),this.getComponent("CCCManager").schedule(function(){this.getChainData2()},25),this.getComponent("CCCManager").schedule(function(){this.getChainData3()},55),this.getComponent("CCCManager").schedule(function(){cc.sys.localStorage.setItem("userData",JSON.stringify(g)),cc.sys.localStorage.setItem("poolData",JSON.stringify(v))},25),this.getComponent("CCCManager").schedule(function(){this.setUserData(g)},10)},setUserData:function(e){if(this.upperNode.getChildByName("status_name").getChildByName("userName").getComponent(cc.Label).string=e.name,this.upperNode.getChildByName("status_eos").getChildByName("num").getComponent(cc.Label).string=e.eosToken,this.upperNode.getChildByName("status_ccc").getChildByName("num").getComponent(cc.Label).string=e.cccToken,b){var t=cc.find("Canvas/tipPanel");0==b.status&&0==t.active&&t.getComponent("TipPanelUI").show(this,3),cc.find("Canvas/Home/btn_buybox1/title").getComponent(cc.Label).string=C[0],cc.find("Canvas/Home/btn_buybox5/title").getComponent(cc.Label).string=C[5],cc.find("Canvas/Home/home_box/id").getComponent(cc.Label).string=b.currentbid}},login:function(){ScatterJS.scatter.connect("cryptocycle").then(function(e){e?(console.log("connected to scatter."),a=ScatterJS.scatter,s={accounts:[f]},a.getIdentity(s).then(function(){o=a.identity.accounts[0],g.name=o.name,r={expireInSeconds:60},m=a.eos(f,Eos,r)}).catch(function(e){console.log("connect to scatter failed."),console.log(e)})):console.log("connect to scatter failed.")})},getChainData:function(){this.handleGetBalance(),this.handleGetBox(),this.handleGetHero(),this.scheduleOnce(function(){this.handleGetSwapHero(),this.handleGetSwapPair()}.bind(this),1)},getChainData2:function(){this.handleGetDefiData(),this.handleGetDefiNFT()},getChainData3:function(){this.handleGetPoolBalance(),this.handleGetPoolData(),this.handleGetMsg()},getCurrencyBalance:function(e,t){var n=this;return i(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o={code:e.code,symbol:e.coin,account:e.account||g.name},m){i.next=4;break}return i.next=4,n.login();case 4:m.getCurrencyBalance(o).then(function(e){e&&t(e[0])}).catch(function(){});case 5:case"end":return i.stop()}},i)}))()},handleGetBalance:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getCurrencyBalance("eosio.token",g.name,"EOS");case 8:return n=t.sent,g.eosToken=n[0]?parseFloat(n[0]):0,t.next=12,m.getCurrencyBalance("eoscccdotcom",g.name,"CCC");case 12:return i=t.sent,g.cccToken=i[0]?parseFloat(i[0]):0,t.next=16,m.getTableRows({json:!0,code:"herobox.ccc",scope:"herobox.ccc",table:"sys",limit:1});case 16:o=t.sent,b=o.rows[0],e.calBoxPrice(),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(5),console.log(t.t0);case 24:case"end":return t.stop()}},t,null,[[5,21]])}))()},handleGetPoolBalance:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getCurrencyBalance("eoscccdotcom","cccdefi.ccc","CCC");case 8:return n=t.sent,v.defiToken=n[0]?parseFloat(n[0]):0,t.next=12,m.getCurrencyBalance("eoscccdotcom","cccpool.ccc","CCC");case 12:i=t.sent,v.poolToken=i[0]?parseFloat(i[0]):0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.log(t.t0);case 19:case"end":return t.stop()}},t,null,[[5,16]])}))()},handleGetPoolData:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"cccdefi.ccc",scope:"cccdefi.ccc",table:"configs",limit:1});case 8:return n=t.sent,v.configs=n.rows[0],0==(i=v.configs.weaponspower)&&(i=1),v.configs&&(v.wh_ratio=v.configs.herospower/(5*i),v.drtotalpower2=v.configs.herospower+v.configs.weaponspower*v.wh_ratio),t.next=17,m.getTableRows({json:!0,code:"cccdefi.ccc",scope:"cccdefi.ccc",table:"lists",lower_bound:g.name,upper_bound:g.name,limit:1});case 17:return o=t.sent,v.userList=o.rows[0],v.userList&&v.wh_ratio&&(v.userpower2=v.userList.herospower+v.userList.weaponspower*v.wh_ratio,v.bal_ratio=v.userpower2/v.drtotalpower2),t.next=23,m.getTableRows({json:!0,code:"cccpool.ccc",scope:"cccpool.ccc",table:"config",limit:1});case 23:a=t.sent,v.poolConfig=a.rows[0],t.next=30;break;case 27:t.prev=27,t.t0=t.catch(5),console.log(t.t0);case 30:case"end":return t.stop()}},t,null,[[5,27]])}))()},handleGetBox:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"herobox.ccc",scope:g.name,table:"boxs",limit:100});case 8:n=t.sent,S=n.rows,cc.sys.localStorage.setItem("HeroBoxData",JSON.stringify(S)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0);case 16:case"end":return t.stop()}},t,null,[[5,13]])}))()},handleGetNewHero:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"htoken.ccc",scope:"htoken.ccc",table:"tokens",index_position:"3",key_type:"i64",lower_bound:g.name,upper_bound:g.name,limit:1,reverse:!0,scopeToUint:!1});case 8:n=t.sent,i=n.rows[0],o=cc.sys.localStorage.getItem("swapPairData"),null!=(c=JSON.parse(o)).reserve0&&(i.price=e.calSellHeroPrice(i.nft_value)),(a=cc.find("Canvas/heroPanel")).getChildByName("hero01").getComponent("hero").updateHero(i),a.getComponent("heroPanelUI").updatePanelDate(i),a.getComponent("PanelUI").show(),a.getChildByName("btnPanSwap").active=!1,a.getChildByName("btnPanMine").active=!0,t.next=24;break;case 21:t.prev=21,t.t0=t.catch(5),console.log(t.t0);case 24:case"end":return t.stop()}},t,null,[[5,21]])}))()},handleGetIDHero:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var i,o,a,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(m){n.next=4;break}return n.next=3,t.login();case 3:return n.abrupt("return");case 4:return n.prev=5,n.next=8,m.getTableRows({json:!0,code:"htoken.ccc",scope:"htoken.ccc",table:"tokens",index_position:"1",lower_bound:e,upper_bound:e,limit:1,reverse:!0,scopeToUint:!1});case 8:i=n.sent,o=i.rows[0],a=cc.sys.localStorage.getItem("swapPairData"),null!=(c=JSON.parse(a)).reserve0&&(o.price=t.calSellHeroPrice(o.nft_value)),(s=cc.find("Canvas/heroPanel")).getChildByName("hero01").getComponent("hero").updateHero(o),s.getComponent("heroPanelUI").updatePanelDate(o),s.getComponent("PanelUI").show(),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(5),console.log(n.t0);case 22:case"end":return n.stop()}},n,null,[[5,19]])}))()},handleGetID:function(e,t){var n=this;return i(regeneratorRuntime.mark(function i(){var o,a,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(m){i.next=4;break}return i.next=3,n.login();case 3:return i.abrupt("return");case 4:return o="htoken.ccc","weapon"==e&&(o="wtoken.ccc"),i.prev=7,i.next=10,m.getTableRows({json:!0,code:o,scope:o,table:"tokens",index_position:"1",lower_bound:t,upper_bound:t,limit:1,reverse:!0,scopeToUint:!1});case 10:return a=i.sent,s=a.rows[0],console.log(s),i.abrupt("return",s);case 16:i.prev=16,i.t0=i.catch(7),console.log(i.t0);case 19:case"end":return i.stop()}},i,null,[[7,16]])}))()},handleGetHero:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"htoken.ccc",scope:"htoken.ccc",table:"tokens",index_position:"3",key_type:"i64",lower_bound:g.name,upper_bound:g.name,limit:1e3,reverse:!1,scopeToUint:!1});case 8:n=t.sent,_=n.rows,i=cc.sys.localStorage.getItem("swapPairData"),null!=(c=JSON.parse(i)).reserve0&&_.forEach(function(t){t.price=e.calSellHeroPrice(t.nft_value)}),cc.sys.localStorage.setItem("HeroData",JSON.stringify(_)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.log(t.t0);case 19:case"end":return t.stop()}},t,null,[[5,16]])}))()},handleGetSwapHero:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"htoken.ccc",scope:"htoken.ccc",table:"tokens",index_position:"3",key_type:"i64",lower_bound:"nftswap.ccc",upper_bound:"nftswap.ccc",limit:1e3,reverse:!1,scopeToUint:!1});case 8:n=t.sent,l=n.rows,i=cc.sys.localStorage.getItem("swapPairData"),null!=(c=JSON.parse(i)).reserve0&&l.forEach(function(t){t.price=e.calHeroPrice(t.nft_value)}),cc.sys.localStorage.setItem("swapHeroData",JSON.stringify(l)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.log(t.t0);case 19:case"end":return t.stop()}},t,null,[[5,16]])}))()},handleGetSwapPair:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"nftswap.ccc",scope:"nftswap.ccc",table:"pairs",lower_bound:1,upper_bound:1,limit:100});case 8:n=t.sent,c=n.rows[0],cc.sys.localStorage.setItem("swapPairData",JSON.stringify(c)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0);case 16:case"end":return t.stop()}},t,null,[[5,13]])}))()},handleGetDefiData:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"cccdefi.ccc",scope:g.name,table:"stakes",limit:3,reverse:!1});case 8:n=t.sent,h=n.rows,i=cc.sys.localStorage.getItem("cccDefiHero"),o=cc.sys.localStorage.getItem("cccDefiWeapon"),u=JSON.parse(i),p=JSON.parse(o),h.forEach(function(e){if(null!=e.hid&&0!=e.hid){var t=u.filter(function(t){return t.id==e.hid});null!=t&&(e.hero=t)}else if(null!=e.wid&&0!=e.wid){var n=p.filter(function(t){return t.id==e.wid});null!=n&&(e.weapon=n)}}),cc.sys.localStorage.setItem("userDefiData",JSON.stringify(h)),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(5),console.log(t.t0);case 21:case"end":return t.stop()}},t,null,[[5,18]])}))()},handleGetDefiNFT:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"htoken.ccc",scope:"htoken.ccc",table:"tokens",index_position:"3",key_type:"i64",lower_bound:"cccdefi.ccc",upper_bound:"cccdefi.ccc",limit:1e3,reverse:!1,scopeToUint:!1});case 8:return n=t.sent,t.next=11,m.getTableRows({json:!0,code:"wtoken.ccc",scope:"wtoken.ccc",table:"tokens",index_position:"3",key_type:"i64",lower_bound:"cccdefi.ccc",upper_bound:"cccdefi.ccc",limit:1e3,reverse:!1,scopeToUint:!1});case 11:i=t.sent,u=n.rows,p=i.rows,cc.sys.localStorage.setItem("cccDefiHero",JSON.stringify(u)),cc.sys.localStorage.setItem("cccDefiWeapon",JSON.stringify(p)),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),console.log(t.t0);case 23:case"end":return t.stop()}},t,null,[[5,20]])}))()},handleGetMsg:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return t.next=3,e.login();case 3:return t.abrupt("return");case 4:return t.prev=5,t.next=8,m.getTableRows({json:!0,code:"cccdefi.ccc",scope:"cccdefi.ccc",table:"messages",limit:10,reverse:!0});case 8:n=t.sent,i=n.rows,o=[],i.forEach(function(e){o.push(e.message)}),console.log(o),a=cc.sys.localStorage.getItem("MsgData"),d=JSON.parse(a),o.length>=2&&o!=d&&(d=o,cc.find("CCC/upper/message").getComponent("message").setMsg(d),cc.sys.localStorage.setItem("MsgData",JSON.stringify(d))),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(5),console.log(t.t0);case 21:case"end":return t.stop()}},t,null,[[5,18]])}))()},calHeroPrice:function(e){var t=cc.sys.localStorage.getItem("swapPairData");c=JSON.parse(t);var n=parseFloat(c.reserve0)*Math.pow(10,4),i=parseFloat(c.reserve1)*Math.pow(10,4),o=parseFloat(e)*Math.pow(10,4);return(n*o/(i-o)*1e4/9910*1e4/9990/Math.pow(10,4)).toFixed(4)+" EOS"},calSellHeroPrice:function(e){var t=cc.sys.localStorage.getItem("swapPairData");c=JSON.parse(t);var n=parseFloat(c.reserve1)*Math.pow(10,4),i=parseFloat(c.reserve0)*Math.pow(10,4),o=parseFloat(e)*Math.pow(10,4);return(o*i/(n+o)*9910/1e4*9990/1e4/Math.pow(10,4)).toFixed(4)+" EOS"},calBoxPrice:function(){if(b)if(C=[],b.currentbid<5e3)C=["5.0000 EOS","5.0000 EOS","5.0000 EOS","5.0000 EOS","5.0000 EOS","25.0000 EOS"];else for(var e=Math.round((new Date).getTime()/1e3),t=parseInt((e-b.lasttime)/b.attime),n=parseFloat(b.price)-increase*t/1e4,i=n<5?5:n,o=0,a=0;a<5;a++){o+=i;var s=formatnumber(i,4)+" EOS";if(C.push(s),i+=increase/1e4,4==a){var r=formatnumber(o,4)+" EOS";C.push(r)}}},buybox:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var i,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=C.length){n.next=2;break}return n.abrupt("return");case 2:if(i=[],1==e)i=[{account:"eosio.token",name:"transfer",authorization:[{actor:g.name,permission:"active"}],data:{from:g.name,to:"herobox.ccc",quantity:C[0],memo:""}}];else for(o=0;o<5;o++)a={account:"eosio.token",name:"transfer",authorization:[{actor:g.name,permission:"active"}],data:{from:g.name,to:"herobox.ccc",quantity:C[o],memo:""}},i.push(a);return n.prev=5,n.next=8,m.transaction({actions:i});case 8:n.sent,t.handleGetBox(),t.scheduleOnce(function(){1==e?cc.find("Canvas/Home").getComponent("HomeUI").buyboxAnim.play("home_buybox1"):cc.find("Canvas/Home").getComponent("HomeUI").buyboxAnim.play("home_buybox5")}.bind(t),.5),t.scheduleOnce(function(){cc.find("Canvas/Home").getComponent("HomeUI").menuAnim.play("menu_intro"),cc.find("Canvas/Home").getComponent("HomeUI").boxtipNode=cc.find("Canvas/lower/main_btns/layout/btn_box/tip"),cc.find("Canvas/Home").getComponent("HomeUI").boxtipNode.active=!0}.bind(t),5.5),n.next=20;break;case 14:n.prev=14,n.t0=n.catch(5),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(t,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=n.t0,t.scheduleOnce(function(){cc.find("Canvas/Home").getComponent("HomeUI").menuAnim.play("menu_intro"),cc.find("Canvas/Home/buybox/glow").active=!1}.bind(t),3.5);case 20:case"end":return n.stop()}},n,null,[[5,14]])}))()},openbox:function(e,t){var n=this;return i(regeneratorRuntime.mark(function e(){var i,o,a,s,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=S.length){e.next=2;break}return e.abrupt("return");case 2:if(i=[],999==t)for(cc.find("Canvas/Box").getComponent("BoxUI").anim.play("box_open"),o=0;o<S.length;o++)a={account:"herobox.ccc",name:"openbox",authorization:[{actor:g.name,permission:"active"}],data:{owner:g.name,id:S[o].bid}},i.push(a);else i=[{account:"herobox.ccc",name:"openbox",authorization:[{actor:g.name,permission:"active"}],data:{owner:g.name,id:S[t].bid}}];return e.prev=5,e.next=8,m.transaction({actions:i});case 8:if(e.sent,cc.find("Canvas/lower/main_btns/layout/btn_box/tip").active=!1,n.handleGetBox(),n.scheduleOnce(function(){this.handleGetNewHero()}.bind(n),1.5),s=cc.find("Canvas/Box").getComponent("BoxUI"),999==t)for(r=0;r<s.heroBoxs.length;++r)s.heroBoxs[r].destroy();else s.heroBoxs[t].destroy();n.scheduleOnce(function(){cc.find("Canvas/Box").getComponent("BoxUI").anim.play("box_intro")}.bind(n),5.5),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(5),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(n,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=e.t0,n.scheduleOnce(function(){cc.find("Canvas/Box").getComponent("BoxUI").anim.play("box_intro"),cc.find("Canvas/Box/fx/fx1").active=!1,cc.find("Canvas/Box/fx/fx2").active=!1}.bind(n),3.5);case 23:case"end":return e.stop()}},e,null,[[5,17]])}))()},buyHero:function(e,t,n){var o=this;return i(regeneratorRuntime.mark(function i(){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=[{account:"eosio.token",name:"transfer",authorization:[{actor:g.name,permission:"active"}],data:{from:g.name,to:"nftswap.ccc",quantity:n,memo:"buy:"+e+":"+t}}],i.prev=1,i.next=4,m.transaction({actions:a});case 4:i.sent,o.handleGetSwapPair(),o.scheduleOnce(function(){cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/heroPanel/fx/bg_eff3").active=!0,cc.find("Canvas/heroPanel/success").active=!0,cc.find("Canvas/heroPanel/info/nftprice").active=!0;var e=cc.find("Canvas/heroPanel");e.getChildByName("btnPanDefi").active=!1,e.getChildByName("btnPanSwap").active=!1,e.getChildByName("btnPanMine").active=!0,this.handleGetIDHero(t)}.bind(o),2),i.next=15;break;case 9:i.prev=9,i.t0=i.catch(1),console.log(i.t0),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(o,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=i.t0;case 15:case"end":return i.stop()}},i,null,[[1,9]])}))()},sellHero:function(e,t,n){var o=this;return i(regeneratorRuntime.mark(function i(){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=[{account:"htoken.ccc",name:"transfer",authorization:[{actor:g.name,permission:"active"}],data:{id:t,from:g.name,to:"nftswap.ccc",memo:"sell:"+e+":"+n}}],i.prev=1,i.next=4,m.transaction({actions:a});case 4:i.sent,o.handleGetSwapPair(),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(o,5),i.next=20;break;case 14:i.prev=14,i.t0=i.catch(1),console.log(i.t0),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(o,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=i.t0;case 20:case"end":return i.stop()}},i,null,[[1,14]])}))()},upgrade:function(e,t,n){var o=this;return i(regeneratorRuntime.mark(function i(){var a,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=[{account:e,name:"upgrade",authorization:[{actor:g.name,permission:"active"}],data:{user:g.name,mid:t,ids:n}}],i.prev=1,i.next=4,m.transaction({actions:a});case 4:s=i.sent,console.log(s),cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/heroPanel/fx/bg_eff1").active=!0,cc.find("Canvas/heroPanel/success").active=!0,cc.find("Canvas/heroPanel/info/nftprice").active=!0,o.scheduleOnce(function(){this.handleGetIDHero(t)}.bind(o),.5),i.next=21;break;case 15:i.prev=15,i.t0=i.catch(1),console.log(i.t0),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(o,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=i.t0;case 21:case"end":return i.stop()}},i,null,[[1,15]])}))()},merge:function(e,t){var n=this;return i(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=[{account:e,name:"merge",authorization:[{actor:g.name,permission:"active"}],data:{user:g.name,ids:t}}],i.prev=1,i.next=4,m.transaction({actions:o});case 4:i.sent,n.handleGetBox(),n.scheduleOnce(function(){cc.find("Canvas/Home").getComponent("HomeUI").buyboxAnim.play("home_buybox1")}.bind(n),.5),n.scheduleOnce(function(){cc.find("Canvas/Home").getComponent("HomeUI").menuAnim.play("menu_intro"),cc.find("Canvas/Home").getComponent("HomeUI").boxtipNode=cc.find("Canvas/lower/main_btns/layout/btn_box/tip"),cc.find("Canvas/Home").getComponent("HomeUI").boxtipNode.active=!0}.bind(n),5.5),i.next=16;break;case 10:i.prev=10,i.t0=i.catch(1),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(n,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=i.t0,n.scheduleOnce(function(){cc.find("Canvas/Home").getComponent("HomeUI").menuAnim.play("menu_intro"),cc.find("Canvas/Home/buybox/glow").active=!1}.bind(n),3.5);case 16:case"end":return i.stop()}},i,null,[[1,10]])}))()},claimDefi:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[{account:"cccpool.ccc",name:"mine",authorization:[{actor:g.name,permission:"active"}],data:{user:g.name}},{account:"cccdefi.ccc",name:"claim",authorization:[{actor:g.name,permission:"active"}],data:{user:g.name}}],t.prev=1,t.next=4,m.transaction({actions:n});case 4:t.sent,i=Date.parse(new Date)/1e3,v.userList.lasttime&&(v.userList.lasttime=i),cc.sys.localStorage.setItem("poolData",JSON.stringify(v)),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/defiPanel").getComponent("DefiUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(e,6),t.next=24;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(e,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=t.t0;case 24:case"end":return t.stop()}},t,null,[[1,18]])}))()},stakeHero:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var i,o,a,s,r,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=cc.sys.localStorage.getItem("curSlot"),o=[{account:"htoken.ccc",name:"transfer",authorization:[{actor:g.name,permission:"active"}],data:{id:e,from:g.name,to:"cccdefi.ccc",memo:"stake:"+i}}],n.prev=2,n.next=5,m.transaction({actions:o});case 5:n.sent,a=Date.parse(new Date)/1e3,v.userList&&v.userList.lasttime&&(v.userList.lasttime=a),cc.sys.localStorage.setItem("poolData",JSON.stringify(v)),s=_.findIndex(function(t){return t.id===e}),r=_.splice(s,1),u.push(r),c={slot:i,hid:e,wid:0,hero:r,weapon:null},h.push(c),cc.sys.localStorage.setItem("HeroData",JSON.stringify(_)),cc.sys.localStorage.setItem("userDefiData",JSON.stringify(h)),cc.sys.localStorage.setItem("cccDefiHero",JSON.stringify(u)),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/defiPanel").getComponent("DefiUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(t,8),n.next=33;break;case 27:n.prev=27,n.t0=n.catch(2),console.log(n.t0),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(t,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=n.t0;case 33:case"end":return n.stop()}},n,null,[[2,27]])}))()},unstakeHero:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var i,o,a,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=[{account:"cccdefi.ccc",name:"unstake",authorization:[{actor:g.name,permission:"active"}],data:{user:g.name,slot:e}}],n.prev=1,n.next=4,m.transaction({actions:i});case 4:n.sent,o=Date.parse(new Date)/1e3,v.userList&&v.userList.lasttime&&(v.userList.lasttime=o),cc.sys.localStorage.setItem("poolData",JSON.stringify(v)),a=h.findIndex(function(t){return t.slot===e}),s=h.splice(a,1),_.push(s.hero),cc.sys.localStorage.setItem("HeroData",JSON.stringify(_)),cc.sys.localStorage.setItem("userDefiData",JSON.stringify(h)),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/defiPanel").getComponent("DefiUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(t,7),n.next=29;break;case 23:n.prev=23,n.t0=n.catch(1),console.log(n.t0),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").show(t,4),cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string=n.t0;case 29:case"end":return n.stop()}},n,null,[[1,23]])}))()},changeNode:function(e,t){f.host!==y[parseInt(t)]&&(f.host=y[parseInt(t)],cc.sys.localStorage.setItem("network",JSON.stringify(f)))},formatnumber:function(e,t){var n,i,o,a;if(i=(n=e.toString()).indexOf("."),o=n.length,0==t)-1!=i&&(n=n.substring(0,i));else if(-1==i)for(n+=".",a=1;a<=t;a++)n+="0";else for(n=n.substring(0,i+t+1),a=o;a<=i+t;a++)n+="0";return n},update:function(){}}),cc._RF.pop()},{async:2}],ChargeUI:[function(e,t){"use strict";cc._RF.push(t,"11f1epEd5FProshh8dSXgPW","ChargeUI"),cc.Class({extends:cc.Component,properties:{},init:function(e,t){this.home=e,this.parentBtns=t},show:function(){this.node.active=!0,this.node.emit("fade-in"),this.home.toggleHomeBtns(!1),cc.director.getScheduler().pauseTarget(this.parentBtns)},hide:function(){this.node.emit("fade-out"),this.home.toggleHomeBtns(!0),cc.director.getScheduler().resumeTarget(this.parentBtns)}}),cc._RF.pop()},{}],ComboDisplay:[function(e,t){"use strict";cc._RF.push(t,"8eb3c3ywppFI6IWH3Np7yc9","ComboDisplay"),cc.Class({extends:cc.Component,properties:{labelCombo:cc.Label,spFlare:cc.Sprite,anim:cc.Animation,comboColors:[cc.Color],showDuration:0},init:function(){this.comboCount=0,this.node.active=!1,this.showTimer=0},playCombo:function(){this.comboCount++,this.node.active=!0;var e=Math.min(Math.floor(this.comboCount/10),this.comboColors.length-1);this.spFlare.node.color=this.comboColors[e],this.labelCombo.node.color=this.comboColors[e],this.labelCombo.string=this.comboCount,this.anim.play("combo-pop"),this.showTimer=0},hide:function(){this.comboCount=0,this.node.active=!1},update:function(e){this.node.active&&(this.showTimer+=e,this.showTimer>=this.showDuration&&this.hide())}}),cc._RF.pop()},{}],DeathUI:[function(e,t){"use strict";cc._RF.push(t,"0966f3/svtKzIRd+HwG3Kyd","DeathUI"),cc.Class({extends:cc.Component,properties:{},init:function(e){this.game=e,this.hide()},show:function(){this.node.setPosition(0,0)},hide:function(){this.node.x=3e3},revive:function(){this.game.revive()},gameover:function(){this.game.gameOver()}}),cc._RF.pop()},{}],DefiUI:[function(e,t){"use strict";cc._RF.push(t,"8a2ce8nNyRLKJ17XT6M4WcP","DefiUI");var n,i=[];cc.Class({extends:cc.Component,properties:{slotPrefab:{default:null,type:cc.Prefab},slot00:cc.Node,slot01:cc.Node,slot02:cc.Node},init:function(e){this.home=e},addHeroSlot:function(e){var t=cc.instantiate(this.slotPrefab),n=i[e].slot;0==n?this.slot00.addChild(t):1==n?this.slot01.addChild(t):2==n&&this.slot02.addChild(t),t.getComponent("HeroSlot").updateHeroslot(i[e].hero[0].genes),t.getComponent("HeroSlot").refresh(i[e].hero[0]);var o=new cc.Component.EventHandler;return o.target=this.node,o.component="DefiUI",o.handler="onClickItem",o.customEventData={index:e,slot:n},t.getComponent("HeroSlot").dbbutton.clickEvents.push(o),t},onClickItem:function(e,t){e.target;var n=t.index,o=(t.slot,cc.find("Canvas/heroPanel"));o.getChildByName("hero01").getComponent("hero").updateHero(i[n].hero[0]),o.getComponent("heroPanelUI").setSlot(i[n].slot),o.getComponent("heroPanelUI").updatePanelDate(i[n].hero[0]),o.getComponent("PanelUI").show(),o.getChildByName("btnPanDefi").active=!0,o.getChildByName("btnPanSwap").active=!1,o.getChildByName("btnPanMine").active=!1,cc.find("Canvas/heroPanel/info/nftprice").active=!1},addSlot:function(e,t){cc.sys.localStorage.setItem("curSlot",t),cc.find("Canvas/backPack").getComponent("BackPackUI").show(),cc.find("Canvas/backPack/tab/tab_weap").active=!1,cc.find("Canvas/heroPanel/btnPanMine/btn_stake").active=!0},setDefiData:function(){var e=Date.parse(new Date)/1e3,t=0,i=cc.sys.localStorage.getItem("poolData");if(i&&(n=JSON.parse(i)),n.configs&&n.poolConfig){var o=e-n.poolConfig.last_mine,a=parseFloat(n.poolToken*o/(86400*n.poolConfig.rate));n.poolToken=(n.poolToken-a).toFixed(4),n.defiToken=(n.defiToken+a).toFixed(4)}if(n.userList&&n.userList.lasttime){var s=e-n.userList.lasttime;t=(n.defiToken-n.defiToken*Math.pow(.999996,s*n.bal_ratio)).toFixed(4)}cc.find("Canvas/defiPanel/pan_pool/num_pool").getComponent(cc.Label).string=n.poolToken,cc.find("Canvas/defiPanel/pan_pool/num_defi").getComponent(cc.Label).string=n.defiToken,cc.find("Canvas/defiPanel/num_earnings").getComponent(cc.Label).string=t},show:function(){cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").hide();var e=cc.sys.localStorage.getItem("poolData");if(e&&(n=JSON.parse(e)),this.heroSlots)for(var t=0;t<this.heroSlots.length;++t)this.heroSlots[t].destroy();this.heroSlots=[];var o=cc.sys.localStorage.getItem("userDefiData");if(o){i=JSON.parse(o);for(var a=0;a<i.length;++a)if(null!=i[a].hero[0]){var s=this.addHeroSlot(a);s&&this.heroSlots.push(s)}}this.node.active=!0,this.node.emit("fade-in"),this.home.toggleHomeBtns(!1)},hide:function(){if(this.heroSlots)for(var e=0;e<this.heroSlots.length;++e)this.heroSlots[e].destroy();cc.find("Canvas/heroPanel/btnPanMine/btn_stake").active=!1,cc.find("Canvas/backPack/tab/tab_weap").active=!0,this.node.emit("fade-out"),this.home.toggleHomeBtns(!0)},update:function(){this.setDefiData()}}),cc._RF.pop()},{}],DyLabel:[function(e,t,n){"use strict";cc._RF.push(t,"ecc7cWEhQNLoJKX/2jTih8Y","DyLabel"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_labels=[],t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.node.children.forEach(function(t){e.m_labels.push(t.getComponent(cc.Label))})},t.prototype.start=function(){},t.prototype.setText=function(e){this.setString(e)},t.prototype.setString=function(e){this.m_labels.forEach(function(t){t.string=e}),this.doAnimate()},t.prototype.doAnimate=function(){this.getComponent(cc.Animation).playAdditive("douyingAni")},__decorate([o],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],EnergyCounter:[function(e,t){"use strict";cc._RF.push(t,"70152iIQt1AkKnsFXGgadR8","EnergyCounter"),cc.Class({extends:cc.Component,properties:{timeToRecover:0,totalCount:0,currentCount:0,labelTimer:{default:null,type:cc.Label},labelCount:{default:null,type:cc.Label},progressBar:{default:null,type:cc.ProgressBar}},onLoad:function(){this.timer=0},update:function(e){var t=this.timer/this.timeToRecover;this.progressBar.progress=t,this.currentCount>this.totalCount&&(this.currentCount=this.totalCount);var n=Math.floor(this.timeToRecover-this.timer);this.labelCount.string=this.currentCount+"/"+this.totalCount,this.labelTimer.string=Math.floor(n/60).toString()+":"+(n%60<10?"0":"")+n%60,this.timer+=e,this.timer>=this.timeToRecover&&(this.timer=0,this.currentCount++)}}),cc._RF.pop()},{}],Foe:[function(e,t){"use strict";cc._RF.push(t,"d887bx46FZAa4lxVyJ37BSp","Foe"),e("Move").MoveState;var n=e("Types").FoeType,i=e("Types").ProjectileType,o=cc.Enum({Melee:-1,Range:-1});cc.Class({extends:cc.Component,properties:{foeType:{default:n.Foe0,type:n},atkType:{default:o.Melee,type:o},projectileType:{default:i.Arrow,type:i},hitPoint:0,hurtRadius:0,atkRange:0,atkDist:0,atkDuration:0,atkStun:0,atkPrepTime:0,corpseDuration:0,sfAtkDirs:[cc.SpriteFrame],fxSmoke:cc.ParticleSystem,fxBlood:cc.Animation,fxBlade:cc.Animation},init:function(e){this.waveMng=e,this.player=e.player,this.isAttacking=!1,this.isAlive=!1,this.isInvincible=!1,this.isMoving=!1,this.hp=this.hitPoint,this.move=this.getComponent("Move"),this.anim=this.move.anim,this.spFoe=this.anim.getComponent(cc.Sprite),this.bloodDuration=this.fxBlood.getAnimationState("blood").clip.duration,this.fxBlood.node.active=!1,this.fxBlade.node.active=!1,this.anim.getAnimationState("born")?this.anim.play("born"):this.readyToMove()},update:function(){if(!1!==this.isAlive){var e=this.player.node.position.sub(this.node.position).mag();if(this.player.isAttacking&&!1===this.isInvincible&&e<this.hurtRadius)this.dead();else if(this.isAttacking&&this.player.isAlive&&e<this.player.hurtRadius)this.player.dead();else if(this.player&&this.isMoving){var t=this.player.node.position.sub(this.node.position),n=Math.atan2(t.y,t.x);if(cc.misc.radiansToDegrees(n),e<this.atkRange)return void this.prepAttack(t);this.node.emit("update-dir",{dir:t.normalize()})}}},readyToMove:function(){this.isAlive=!0,this.isMoving=!0,this.fxSmoke.resetSystem()},prepAttack:function(e){var t;t=Math.abs(e.x)>=Math.abs(e.y)?"pre_atk_right":e.y>0?"pre_atk_up":"pre_atk_down",this.node.emit("freeze"),this.anim.play(t),this.isMoving=!1,this.scheduleOnce(this.attack,this.atkPrepTime)},attack:function(){if(!1!==this.isAlive){this.anim.stop();var e=this.player.node.position.sub(this.node.position),t=null;this.atkType===o.Melee&&(t=this.node.position.add(e.normalize().mul(this.atkDist))),this.attackOnTarget(e,t)}},attackOnTarget:function(e,t){var n=cc.misc.radiansToDegrees(cc.v2(0,1).signAngle(e)),a=[0,45,135,180];function s(e,t){for(var n=null,i=1;i<a.length;++i){var o=a[i-1];if(e<=a[i]&&e>o)return t[i-1]}if(null===n)return cc.error("cannot find correct attack pose sprite frame! mag: "+e),null}var r=Math.abs(n);n<=0?(this.anim.node.scaleX=1,this.spFoe.spriteFrame=s(r,this.sfAtkDirs)):(this.anim.node.scaleX=-1,this.spFoe.spriteFrame=s(r,this.sfAtkDirs));var c=cc.delayTime(this.atkStun),l=cc.callFunc(this.onAtkFinished,this);if(this.atkType===o.Melee){var h=cc.moveTo(this.atkDuration,t).easing(cc.easeQuinticActionOut());this.node.runAction(cc.sequence(h,c,l)),this.isAttacking=!0}else{if(this.projectileType===i.None)return;this.waveMng.spawnProjectile(this.projectileType,this.node.position,e),this.node.runAction(cc.sequence(c,l))}},onAtkFinished:function(){this.isAttacking=!1,this.isAlive&&(this.isMoving=!0)},dead:function(){this.move.stop(),this.isMoving=!1,this.isAttacking=!1,this.anim.play("dead"),this.fxBlood.node.active=!0,this.fxBlood.node.scaleX=this.anim.node.scaleX,this.fxBlood.play("blood"),this.fxBlade.node.active=!0,this.fxBlade.node.rotation=80*(Math.random()-.5),this.fxBlade.play("blade"),this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.waveMng.hitFoe(),this.player.addKills(),--this.hp>0?(this.isInvincible=!0,this.scheduleOnce(this.invincible,this.bloodDuration)):(this.isAlive=!1,this.scheduleOnce(this.corpse,this.bloodDuration),this.waveMng.killFoe())},invincible:function(){this.fxBlood.node.active=!1,this.isMoving=!0;var e=cc.blink(1,6),t=cc.callFunc(this.onInvincibleEnd,this);this.anim.node.runAction(cc.sequence(e,t))},onInvincibleEnd:function(){this.isInvincible=!1},corpse:function(){this.anim.play("corpse"),this.fxBlood.node.active=!1,this.scheduleOnce(this.recycle,this.corpseDuration)},recycle:function(){this.waveMng.despawnFoe(this)}}),cc._RF.pop()},{Move:"Move",Types:"Types"}],GameOverUI:[function(e,t){"use strict";cc._RF.push(t,"c3ee4ElVWtB2Lzir0h5v/ow","GameOverUI"),cc.Class({extends:cc.Component,properties:{},init:function(e){this.game=e,this.hide()},show:function(){this.node.setPosition(0,0)},hide:function(){this.node.x=3e3},restart:function(){this.game.restart()}}),cc._RF.pop()},{}],Game:[function(e,t){"use strict";cc._RF.push(t,"f8d83fBpLZCEqij5BvvBhRZ","Game"),cc.Class({extends:cc.Component,properties:{player:cc.Node,inGameUI:cc.Node,playerFX:cc.Node,waveMng:cc.Node,bossMng:cc.Node,poolMng:cc.Node,foeGroup:cc.Node,deathUI:cc.Node,gameOverUI:cc.Node,cameraRoot:cc.Animation},onLoad:function(){this.playerFX=this.playerFX.getComponent("PlayerFX"),this.playerFX.init(this),this.player=this.player.getComponent("Player"),this.player.init(this),this.player.node.active=!1,this.poolMng=this.poolMng.getComponent("PoolMng"),this.poolMng.init(),this.waveMng=this.waveMng.getComponent("WaveMng"),this.waveMng.init(this),this.bossMng=this.bossMng.getComponent("BossMng"),this.bossMng.init(this),this.sortMng=this.foeGroup.getComponent("SortMng"),this.sortMng.init()},start:function(){this.playerFX.playIntro(),this.inGameUI=this.inGameUI.getComponent("InGameUI"),this.inGameUI.init(this),this.deathUI=this.deathUI.getComponent("DeathUI"),this.deathUI.init(this),this.gameOverUI=this.gameOverUI.getComponent("GameOverUI"),this.gameOverUI.init(this)},pause:function(){cc.director.getScheduler().pauseTarget(this.waveMng),this.sortMng.enabled=!1},resume:function(){cc.director.getScheduler().resumeTarget(this.waveMng),this.sortMng.enabled=!0},cameraShake:function(){this.cameraRoot.play("camera-shake")},death:function(){this.deathUI.show(),this.pause()},revive:function(){this.deathUI.hide(),this.playerFX.playRevive(),this.player.revive()},clearAllFoes:function(){for(var e=this.foeGroup.children,t=0;t<e.length;++t){var n=e[t].getComponent("Foe");if(n)n.dead();else{var i=e[t].getComponent("Projectile");i&&i.broke()}}},playerReady:function(){this.resume(),this.waveMng.startWave(),this.player.node.active=!0,this.player.ready()},gameOver:function(){this.deathUI.hide(),this.gameOverUI.show()},restart:function(){cc.director.loadScene("PlayGame")}}),cc._RF.pop()},{}],HeroSlot:[function(e,t){"use strict";cc._RF.push(t,"648ecAs4bREAJsQ6IycZbX7","HeroSlot"),cc.Class({extends:cc.Component,properties:{sfAttributes:{default:[],type:cc.SpriteFrame},sfBorders:{default:[],type:cc.SpriteFrame},labelLevel:{default:null,type:cc.Label},spAttribute:{default:null,type:cc.Sprite},spBorder:{default:null,type:cc.Sprite},dbhead:{default:[],type:cc.Node},dbbutton:{default:null,type:cc.Button},title:cc.Label,nftvalue:cc.Label},onLoad:function(){this.dbDisplay=this.dbhead.getComponent(dragonBones.ArmatureDisplay),this.dbArmature=this.dbDisplay.armature(),this.eyeDisplay=cc.find("eyes").getComponent(dragonBones.ArmatureDisplay)},refresh:function(e){var t=e.level-1;t>=7&&(t=6);var n=e.category,i=e.level;this.labelLevel.string="LV."+i,this.spBorder.spriteFrame=this.sfBorders[t],this.spAttribute.spriteFrame=this.sfAttributes[n],this.title.string=e.token_name,this.nftvalue.string=e.nft_value},string_to_arr:function(e){for(var t=new Array,n=0;n<12;++n)t[n]=".12345abcdefghijklmnopqrstuvwxyz".indexOf(e.charAt(n));return t},updateHeroslot:function(e){var t=this.string_to_arr(e);this.dbArmature.getSlot("slot_hair").displayIndex=t[2],this.dbArmature.getSlot("slot_item").displayIndex=t[4],this.dbArmature.getSlot("skin_head").displayIndex=t[0],this.dbArmature.getSlot("skin_ear").displayIndex=t[0],this.dbArmature.getSlot("skin_neck").displayIndex=t[0],this.updateHat(t[1]),this.updateEye(t[3])},updateHat:function(e){this.dbArmature.getSlot("slot_hat").displayIndex=void 0,0!=e&&(this.dbArmature.getSlot("slot_hat").displayIndex=e-1,this.dbArmature.getSlot("slot_hair").displayIndex=void 0,this.dbArmature.getSlot("slot_item").displayIndex=void 0)},updateEye:function(e){var t=this.eyeDisplay.buildArmature("e_"+e);t.timeScale=(e+1)/3,this.dbArmature.getSlot("skin_eyes").childArmature=t.armature()}}),cc._RF.pop()},{}],HomeUI1:[function(e,t){"use strict";cc._RF.push(t,"aa77bcy1MlA3bRL8zpupFoD","HomeUI1"),cc.Class({extends:cc.Component,properties:{menuAnim:{default:null,type:cc.Animation},menuParticle:{default:null,type:cc.ParticleSystem},btnGroup:{default:null,type:cc.Node}},onLoad:function(){},start:function(){cc.eventManager.pauseTarget(this.btnGroup,!0),this.scheduleOnce(function(){this.menuAnim.play(),this.menuParticle.enabled=!1}.bind(this),2)},showParticle:function(){this.menuParticle.enabled=!0},enableButtons:function(){cc.eventManager.resumeTarget(this.btnGroup,!0)},playGame:function(){cc.eventManager.pauseTarget(this.btnGroup,!0),cc.director.loadScene("PlayGame")}}),cc._RF.pop()},{}],HomeUI:[function(e,t){"use strict";cc._RF.push(t,"80382PDGl1Jf4nvzaq1gyOV","HomeUI");var n=e("BackPackUI"),i=e("ShopUI"),o=e("BoxUI"),a=e("DefiUI"),s=cc.Enum({Home:-1,Box:-1,NFT:-1,DeFi:-1,Shop:-1,Risk:-1});cc.Class({extends:cc.Component,properties:{menuAnim:{default:null,type:cc.Animation},buyboxAnim:{default:null,type:cc.Animation},homeBtnGroups:{default:[],type:cc.Node},backPackUI:{default:null,type:n},shopUI:i,DefiUI:a,boxUI:o},onLoad:function(){this.curPanel=s.Home,this.menuAnim.play("menu_reset")},start:function(){this.backPackUI.init(this),this.shopUI.init(this),this.DefiUI.init(this),this.boxUI.init(this,s.Box),this.scheduleOnce(function(){this.menuAnim.play("menu_intro")}.bind(this),.5)},toggleHomeBtns:function(e){for(var t=0;t<this.homeBtnGroups.length;++t){var n=this.homeBtnGroups[t];e?cc.director.getScheduler().resumeTarget(n):cc.director.getScheduler().pauseTarget(n)}},gotoShop:function(){this.curPanel!==s.Shop&&(this.menuAnim.play("menu_back"),this.scheduleOnce(function(){this.shopUI.show()}.bind(this),.5))},gotoDefi:function(){this.curPanel!==s.DeFi&&this.scheduleOnce(function(){this.DefiUI.show()}.bind(this),.5)},gotoBox:function(){cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").hide(),cc.find("Canvas/defiPanel").getComponent("DefiUI").hide(),this.curPanel!==s.Box&&(this.menuAnim.play("menu_back"),this.scheduleOnce(function(){this.boxUI.show()}.bind(this),.4))},gotoHome:function(){cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/Shop").getComponent("ShopUI").hide(),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").hide(),cc.find("Canvas/defiPanel").getComponent("DefiUI").hide(),this.curPanel!==s.Home&&(this.curPanel===s.Shop?(this.shopUI.hide(),this.curPanel=s.Home,this.scheduleOnce(function(){this.menuAnim.play("menu_intro")}.bind(this),1.5)):this.curPanel===s.Box&&(this.boxUI.hide(),this.curPanel=s.Home,this.scheduleOnce(function(){this.menuAnim.play("menu_intro")}.bind(this),1.5)))},gotoKill:function(){cc.director.loadScene("PlayGame")},buyBox1:function(){this.buyboxAnim.play("home_buybox"),cc.find("CCC").getComponent("CCCManager").buybox(1)},buyBox5:function(){this.buyboxAnim.play("home_buybox"),cc.find("CCC").getComponent("CCCManager").buybox(5)}}),cc._RF.pop()},{BackPackUI:"BackPackUI",BoxUI:"BoxUI",DefiUI:"DefiUI",ShopUI:"ShopUI"}],InGameUI:[function(e,t){"use strict";cc._RF.push(t,"8df10iIWI5JgrcFs/5AlGtD","InGameUI"),cc.Class({extends:cc.Component,properties:{waveUI:cc.Node,killDisplay:cc.Node,comboDisplay:cc.Node},init:function(){this.waveUI=this.waveUI.getComponent("WaveUI"),this.waveUI.node.active=!1,this.killDisplay=this.killDisplay.getComponent("KillDisplay"),this.killDisplay.node.active=!1,this.comboDisplay=this.comboDisplay.getComponent("ComboDisplay"),this.comboDisplay.init()},showWave:function(e){this.waveUI.node.active=!0,this.waveUI.show(e)},showKills:function(e){this.killDisplay.playKill(e)},addCombo:function(){this.comboDisplay.playCombo()}}),cc._RF.pop()},{}],ItemList:[function(e,t){"use strict";cc._RF.push(t,"17835Y2g5RH1YfRoE2gXjcq","ItemList");var n=cc.Class({name:"Item",properties:{id:0,itemName:"",itemPrice:0,iconSF:cc.SpriteFrame}});cc.Class({extends:cc.Component,properties:{items:{default:[],type:n},itemPrefab:cc.Prefab},onLoad:function(){for(var e=0;e<this.items.length;++e){var t=cc.instantiate(this.itemPrefab),n=this.items[e];this.node.addChild(t),t.getComponent("ItemTemplate").init({id:n.id,itemName:n.itemName,itemPrice:n.itemPrice,iconSF:n.iconSF})}}}),cc._RF.pop()},{}],ItemTemplate:[function(e,t){"use strict";cc._RF.push(t,"84c0a/TcQhJQ5lSYyY4gUa6","ItemTemplate"),cc.Class({extends:cc.Component,properties:{id:0,icon:cc.Sprite,itemName:cc.Label,itemPrice:cc.Label},init:function(e){this.id=e.id,this.icon.spriteFrame=e.iconSF,this.itemName.string=e.itemName,this.itemPrice.string=e.itemPrice}}),cc._RF.pop()},{}],KillDisplay:[function(e,t){"use strict";cc._RF.push(t,"592dd/u1/tEOJgCdwAZWLVG","KillDisplay"),cc.Class({extends:cc.Component,properties:{labelKills:cc.Label,anim:cc.Animation},playKill:function(e){this.node.active=!0,this.labelKills.string=e,this.anim.play("kill-pop")},hide:function(){this.node.active=!1}}),cc._RF.pop()},{}],LanguageData:[function(e,t){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var n=e("polyglot.min"),i=cc._decorator,o=(i.ccclass,i.property,null);window.i18n||(window.i18n={languages:{zh:e("../i18n/zh"),en:e("../i18n/en")},curLang:""}),window.i18n.curLang="en";var a=cc.sys.localStorage.getItem("curLang");function s(e){return window.i18n.languages[e]}function r(e){e&&(o?o.replace(e):o=new n({phrases:e,allowMissing:!0}))}a&&(window.i18n.curLang=a),r(s(window.i18n.curLang)||{}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=s(e)||{};window.i18n.curLang=e,r(t),this.inst=o}},t:function(e,t){if(o)return o.t(e,t)},inst:o,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var i=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,i)}for(var o=0;o<t.length;++o){var a=t[o];a.node.active&&a.updateLabel()}for(var s=[],r=0;r<e.length;++r){var c=e[r].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(s,c)}for(var l=0;l<s.length;++l){var h=s[l];h.node.active&&h.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"../i18n/en":"en","../i18n/zh":"zh","polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MainMenu:[function(e,t){"use strict";cc._RF.push(t,"1bc0eZACFdK24h0UsytreOq","MainMenu");var n=e("MenuSidebar");cc.Class({extends:cc.Component,properties:{sidebar:n,roller:cc.Node,panelWidth:0,tabSwitchDuration:0},onLoad:function(){this.sidebar.init(this),this.curPanelIdx=0,this.roller.x=this.curPanelIdx*-this.panelWidth},switchPanel:function(e){this.curPanelIdx=e;var t=this.curPanelIdx*-this.panelWidth,n=cc.moveTo(this.tabSwitchDuration,cc.v2(t,0)).easing(cc.easeQuinticActionInOut()),i=cc.callFunc(this.onSwitchPanelFinished,this);this.roller.stopAllActions(),cc.director.getScheduler().pauseTarget(this.roller),this.roller.runAction(cc.sequence(n,i))},onSwitchPanelFinished:function(){cc.director.getScheduler().resumeTarget(this.roller)}}),cc._RF.pop()},{MenuSidebar:"MenuSidebar"}],MenuSidebar:[function(e,t){"use strict";cc._RF.push(t,"95628GDDSZIYpJENqXlvcpc","MenuSidebar"),cc.Class({extends:cc.Component,properties:{tabIcons:{default:[],type:cc.SpriteFrame},tabPrefab:cc.Prefab,container:cc.Node,highlight:cc.Node,tabWidth:0},init:function(e){this.mainMenu=e,this.tabSwitchDuration=e.tabSwitchDuration,this.curTabIdx=0,this.tabs=[];for(var t=0;t<this.tabIcons.length;++t){var n=this.tabIcons[t],i=cc.instantiate(this.tabPrefab).getComponent("TabCtrl");this.container.addChild(i.node),i.init({sidebar:this,idx:t,iconSF:n}),this.tabs[t]=i}this.tabs[this.curTabIdx].turnBig(),this.highlight.x=this.curTabIdx*this.tabWidth},tabPressed:function(e){for(var t=0;t<this.tabs.length;++t){var n=this.tabs[t];n.idx===e?(n.turnBig(),cc.director.getScheduler().pauseTarget(n.node)):this.curTabIdx===n.idx&&(n.turnSmall(),cc.director.getScheduler().resumeTarget(n.node))}this.curTabIdx=e;var i=cc.moveTo(this.tabSwitchDuration,cc.v2(this.curTabIdx*this.tabWidth)).easing(cc.easeQuinticActionInOut());this.highlight.stopAllActions(),this.highlight.runAction(i),this.mainMenu.switchPanel(this.curTabIdx)}}),cc._RF.pop()},{}],Move:[function(e,t){"use strict";cc._RF.push(t,"03fecYvs+9L07SPviQLuLj3","Move");var n=cc.Enum({None:-1,Stand:-1,Up:-1,Right:-1,Down:-1,Left:-1});cc.Class({extends:cc.Component,properties:{moveSpeed:0,anim:{default:null,type:cc.Animation}},statics:{MoveState:n},onLoad:function(){this.moveState=n.Stand,this.node.on("stand",this.stand,this),this.node.on("freeze",this.stop,this),this.node.on("update-dir",this.updateDir,this)},stand:function(){this.moveState!==n.Stand&&(this.anim.play("stand"),this.moveState=n.Stand)},stop:function(){this.anim.stop(),this.moveState=n.None,this.moveDir=null},moveUp:function(){this.moveState!==n.Up&&(this.anim.play("run_up"),this.anim.node.scaleX=1,this.moveState=n.Up)},moveDown:function(){this.moveState!==n.Down&&(this.anim.play("run_down"),this.anim.node.scaleX=1,this.moveState=n.Down)},moveRight:function(){this.moveState!==n.Right&&(this.anim.play("run_right"),this.anim.node.scaleX=1,this.moveState=n.Right)},moveLeft:function(){this.moveState!==n.Left&&(this.anim.play("run_right"),this.anim.node.scaleX=-1,this.moveState=n.Left)},updateDir:function(e){this.moveDir=e.dir},update:function(e){if(this.moveDir){this.node.x+=this.moveSpeed*this.moveDir.x*e,this.node.y+=this.moveSpeed*this.moveDir.y*e;var t=cc.misc.radiansToDegrees(Math.atan2(this.moveDir.y,this.moveDir.x));t>=45&&t<135?this.moveUp():t>=135||t<-135?this.moveLeft():t>=-45&&t<45?this.moveRight():this.moveDown()}else this.moveState!==n.None&&this.stand()}}),cc._RF.pop()},{}],NodePool:[function(e,t){"use strict";cc._RF.push(t,"4762cqE38NHn451+NhWnQ5U","NodePool");var n=cc.Class({name:"NodePool",properties:{prefab:cc.Prefab,size:0},ctor:function(){this.idx=0,this.initList=[],this.list=[]},init:function(){for(var e=0;e<this.size;++e){var t=cc.instantiate(this.prefab);this.initList[e]=t,this.list[e]=t}this.idx=this.size-1},reset:function(){for(var e=0;e<this.size;++e){var t=this.initList[e];this.list[e]=t,t.active&&(t.active=!1),t.parent&&t.removeFromParent()}this.idx=this.size-1},request:function(){if(this.idx<0)return cc.log("Error: the pool do not have enough free item."),null;var e=this.list[this.idx];return e&&(e.active=!0),--this.idx,e},return:function(e){++this.idx,e.active=!1,e.parent&&e.removeFromParent(),this.list[this.idx]=e}});t.exports=n,cc._RF.pop()},{}],PanelTransition:[function(e,t){"use strict";cc._RF.push(t,"e5284RIOh1C4Jyzfa64lV9l","PanelTransition"),cc.Class({extends:cc.Component,properties:{duration:0},onLoad:function(){this.outOfWorld=cc.v2(3e3,0),this.node.position=this.outOfWorld;var e=cc.callFunc(this.onFadeOutFinish,this),t=cc.callFunc(this.onFadeInFinish,this);this.actionFadeIn=cc.sequence(cc.spawn(cc.fadeTo(this.duration,255),cc.scaleTo(this.duration,1)),t),this.actionFadeOut=cc.sequence(cc.spawn(cc.fadeTo(this.duration,0),cc.scaleTo(this.duration,2)),e),this.node.on("fade-in",this.startFadeIn,this),this.node.on("fade-out",this.startFadeOut,this)},startFadeIn:function(){cc.director.getScheduler().pauseTarget(this.node),this.node.position=cc.v2(0,0),this.node.setScale(2),this.node.opacity=0,this.node.runAction(this.actionFadeIn)},startFadeOut:function(){cc.director.getScheduler().pauseTarget(this.node),this.node.runAction(this.actionFadeOut)},onFadeInFinish:function(){cc.director.getScheduler().resumeTarget(this.node)},onFadeOutFinish:function(){this.node.position=this.outOfWorld}}),cc._RF.pop()},{}],PanelUI:[function(e,t){"use strict";cc._RF.push(t,"7ce68dcvu9MRbNg+7MtDSGk","PanelUI"),cc.Class({extends:cc.Component,properties:{},init:function(){},show:function(){this.node.active=!0,this.node.emit("fade-in");var e=cc.find("Canvas/heroPanel/success");e.active&&cc.tween(e).to(1,{scale:3}).by(1,{scale:1}).to(1,{scale:1}).start()},hide:function(){this.node.emit("fade-out"),cc.find("Canvas/heroPanel/fx/bg_eff1").active=!1,cc.find("Canvas/heroPanel/fx/bg_eff2").active=!1,cc.find("Canvas/heroPanel/fx/bg_eff3").active=!1,cc.find("Canvas/heroPanel/success").active=!1}}),cc._RF.pop()},{}],PlayerFX:[function(e,t){"use strict";cc._RF.push(t,"473ddOy0BlLraG4rFvYcoyb","PlayerFX"),cc.Class({extends:cc.Component,properties:{introAnim:cc.Animation,reviveAnim:cc.Animation},init:function(e){this.game=e,this.introAnim.node.active=!1,this.reviveAnim.node.active=!1},playIntro:function(){this.introAnim.node.active=!0,this.introAnim.play("start")},playRevive:function(){this.reviveAnim.node.active=!0,this.reviveAnim.node.setPosition(this.game.player.node.position),this.reviveAnim.play("revive")},introFinish:function(){this.game.playerReady(),this.introAnim.node.active=!1},reviveFinish:function(){this.game.playerReady(),this.reviveAnim.node.active=!1},reviveKill:function(){this.game.clearAllFoes()}}),cc._RF.pop()},{}],Player:[function(e,t){"use strict";cc._RF.push(t,"b7fe1Feo8hKMoqKLY3I4z0F","Player"),cc.Class({extends:cc.Component,properties:{fxTrail:cc.ParticleSystem,spArrow:cc.Node,sfAtkDirs:[cc.SpriteFrame],attachPoints:[cc.Vec2],sfPostAtks:[cc.SpriteFrame],spPlayer:cc.Sprite,spSlash:cc.Sprite,hurtRadius:0,touchThreshold:0,touchMoveThreshold:0,atkDist:0,atkDuration:0,atkStun:0,invincible:!1},init:function(e){this.game=e,this.anim=this.getComponent("Move").anim,this.inputEnabled=!1,this.isAttacking=!1,this.isAlive=!0,this.nextPoseSF=null,this.registerInput(),this.spArrow.active=!1,this.atkTargetPos=cc.v2(0,0),this.isAtkGoingOut=!1,this.validAtkRect=cc.rect(25,25,1.71*(this.node.parent.width-50),1.11*(this.node.parent.height-50)),this.oneSlashKills=0},registerInput:function(){var e=this;cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t){if(!1===e.inputEnabled)return!0;var n=t.getLocation();return e.touchBeganLoc=n,e.moveToPos=e.node.parent.convertToNodeSpaceAR(n),e.touchStartTime=Date.now(),!0},onTouchMoved:function(t){if(!1!==e.inputEnabled){var n=t.getLocation();e.spArrow.active=!0,e.moveToPos=e.node.parent.convertToNodeSpaceAR(n),e.touchBeganLoc.sub(n).mag()>e.touchMoveThreshold&&(e.hasMoved=!0)}},onTouchEnded:function(t){if(!1!==e.inputEnabled){e.spArrow.active=!1,e.moveToPos=null,e.node.emit("update-dir",{dir:null});var n=e.isTouchHold();if(!e.hasMoved&&!n){var i=t.getLocation(),o=e.node.parent.convertToNodeSpaceAR(i),a=e.node.getComponent("camera").mainCamera.node.position,s=o.add(a).sub(e.node.position);e.atkTargetPos=e.node.position.add(s.normalize().mul(e.atkDist));var r=e.node.parent.convertToWorldSpaceAR(e.atkTargetPos);e.validAtkRect.contains(r)?e.isAtkGoingOut=!1:e.isAtkGoingOut=!0,e.node.emit("freeze"),e.oneSlashKills=0,e.attackOnTarget(s,e.atkTargetPos)}e.hasMoved=!1}}},e.node)},ready:function(){this.fxTrail.resetSystem(),this.node.emit("stand"),this.inputEnabled=!0,this.isAlive=!0},isTouchHold:function(){return Date.now()-this.touchStartTime>=this.touchThreshold},attackOnTarget:function(e,t){var n=this,i=cc.misc.radiansToDegrees(cc.v2(0,1).signAngle(e)),o=[0,12,35,56,79,101,124,146,168,180],a=null;function s(e,t){for(var i=null,s=1;s<o.length;++s){var r=o[s-1];if(e<=o[s]&&e>r)return i=t[s-1],n.nextPoseSF=n.sfPostAtks[Math.floor((s-1)/3)],a=n.attachPoints[s-1],i}if(null===i)return console.error("cannot find correct attack pose sprite frame! mag: "+e),null}var r=Math.abs(i);i<=0?(this.spPlayer.node.scaleX=1,this.spPlayer.spriteFrame=s(r,this.sfAtkDirs)):(this.spPlayer.node.scaleX=-1,this.spPlayer.spriteFrame=s(r,this.sfAtkDirs));var c=cc.moveTo(this.atkDuration,t).easing(cc.easeQuinticActionOut()),l=cc.delayTime(this.atkStun),h=cc.callFunc(this.onAtkFinished,this);this.node.runAction(cc.sequence(c,l,h)),this.spSlash.node.position=a,this.spSlash.node.rotation=r,this.spSlash.enabled=!0,this.spSlash.getComponent(cc.Animation).play("slash"),console.log(this.node.getChildByName("hero").name),this.node.getChildByName("hero").getComponent("hero").attackAni(),this.inputEnabled=!1,this.isAttacking=!0},onAtkFinished:function(){this.nextPoseSF&&(this.spPlayer.spriteFrame=this.nextPoseSF),this.spSlash.enabled=!1,this.inputEnabled=!0,this.isAttacking=!1,this.isAtkGoingOut=!1,this.oneSlashKills>=3&&this.game.inGameUI.showKills(this.oneSlashKills)},addKills:function(){this.oneSlashKills++,this.game.inGameUI.addCombo()},revive:function(){var e=cc.callFunc(function(){this.node.active=!1}.bind(this));cc.sequence(cc.delayTime(.6),e)},dead:function(){this.invincible||(this.node.emit("freeze"),this.isAlive=!1,this.isAttacking=!1,this.inputEnabled=!1,this.anim.play("dead"))},corpse:function(){this.anim.play("corpse"),this.scheduleOnce(this.death,.7)},death:function(){this.game.death()},shouldStopAttacking:function(){var e=this.node.parent.convertToWorldSpaceAR(this.node.position),t=this.node.parent.convertToWorldSpaceAR(this.atkTargetPos);return e.x<this.validAtkRect.xMin&&t.x<this.validAtkRect.xMin||e.x>this.validAtkRect.xMax&&t.x>this.validAtkRect.xMax||e.y<this.validAtkRect.yMin&&t.y<this.validAtkRect.yMin||e.y>this.validAtkRect.yMax&&t.y>this.validAtkRect.yMax},update:function(){if(!1!==this.isAlive&&(this.isAttacking&&this.isAtkGoingOut&&this.shouldStopAttacking()&&(this.node.stopAllActions(),this.onAtkFinished()),this.inputEnabled&&this.moveToPos&&this.isTouchHold())){var e=this.moveToPos.sub(this.node.position),t=Math.atan2(e.y,e.x),n=cc.misc.radiansToDegrees(t);this.spArrow.rotation=90-n,this.node.emit("update-dir",{dir:e.normalize()})}}}),cc._RF.pop()},{}],PoolMng:[function(e,t){"use strict";cc._RF.push(t,"15ae69NDTlDzprf2vQCDLLb","PoolMng");var n=e("NodePool"),i=(e("Types").FoeType,e("Types").ProjectileType,e("BGPool"));e("Types").BGs,cc.Class({extends:cc.Component,properties:{foePools:{default:[],type:n},projectilePools:{default:[],type:n},BGPools:{default:[],type:i}},init:function(){for(var e=0;e<this.foePools.length;++e)this.foePools[e].init();for(var t=0;t<this.projectilePools.length;++t)this.projectilePools[t].init();var n=Math.floor(Math.random()*this.BGPools.length);this.BGPools[n].init()},requestFoe:function(e){var t=this.foePools[e];return t.idx>=0?t.request():null},returnFoe:function(e,t){var n=this.foePools[e];n.idx<n.size?n.return(t):cc.log("Return obj to a full pool, something has gone wrong")},requestProjectile:function(e){var t=this.projectilePools[e];return t.idx>=0?t.request():null},returnProjectile:function(e,t){var n=this.projectilePools[e];n.idx<n.size?n.return(t):cc.log("Return obj to a full pool, something has gone wrong")}}),cc._RF.pop()},{BGPool:"BGPool",NodePool:"NodePool",Types:"Types"}],Projectile:[function(e,t){"use strict";cc._RF.push(t,"bd907OrsYVGJpMAP56xffaF","Projectile");var n=e("Types").ProjectileType;cc.Class({extends:cc.Component,properties:{projectileType:{default:n.Arrow,type:n},sprite:cc.Sprite,fxBroken:cc.Animation,moveSpeed:0,canBreak:!0},init:function(e,t){this.waveMng=e,this.player=e.player;var n=Math.atan2(t.y,t.x),i=90-cc.misc.radiansToDegrees(n);this.sprite.node.rotation=i,this.sprite.enabled=!0,this.direction=t.normalize(),this.isMoving=!0},broke:function(){this.isMoving=!1,this.sprite.enabled=!1,this.fxBroken.node.active=!0,this.fxBroken.play("arrow-break")},hit:function(){this.isMoving=!1,this.onBrokenFXFinished()},onBrokenFXFinished:function(){this.fxBroken.node.active=!1,this.waveMng.despawnProjectile(this)},update:function(e){if(!1!==this.isMoving){if(this.player.node.position.sub(this.node.position).mag()<this.player.hurtRadius&&this.player.isAlive)return this.canBreak&&this.player.isAttacking?void this.broke():(this.player.dead(),void this.hit());this.isMoving&&(this.node.x+=this.moveSpeed*this.direction.x*e,this.node.y+=this.moveSpeed*this.direction.y*e,(Math.abs(this.node.x)>this.waveMng.foeGroup.width/2||Math.abs(this.node.y)>this.waveMng.foeGroup.height/2)&&this.onBrokenFXFinished())}}}),cc._RF.pop()},{Types:"Types"}],ShopUI:[function(e,t){"use strict";cc._RF.push(t,"9fbcf0UiNFEvZYPQa9crk/y","ShopUI");var n,i,o=[],a=[],s=[],r=999,c=999;cc.Class({extends:cc.Component,properties:{slotPrefab:{default:null,type:cc.Prefab},scrollView:{default:null,type:cc.ScrollView},btnPre:cc.Node,btnNext:cc.Node},init:function(e){this.home=e},addHeroSlot:function(e){var t=cc.instantiate(this.slotPrefab);this.scrollView.content.addChild(t),t.getComponent("HeroSlot").updateHeroslot(o[e].genes),t.getComponent("HeroSlot").refresh(o[e]),t.getChildByName("tit").getComponent(cc.Label).string=o[e].price;var n=new cc.Component.EventHandler;return n.target=this.node,n.component="ShopUI",n.handler="onClickItem",n.customEventData={index:e},t.getComponent("HeroSlot").dbbutton.clickEvents.push(n),t},onClickItem:function(e,t){e.target;var n=t.index,i=cc.find("Canvas/heroPanel");i.getChildByName("hero01").getComponent("hero").updateHero(o[n]),i.getComponent("heroPanelUI").updatePanelDate(o[n]),i.getComponent("PanelUI").show(),i.getChildByName("btnPanDefi").active=!1,i.getChildByName("btnPanSwap").active=!0,i.getChildByName("btnPanMine").active=!1,cc.find("Canvas/heroPanel/info/nftprice").active=!0},show:function(){if(cc.find("Canvas/heroPanel").getComponent("PanelUI").hide(),cc.find("Canvas/upgradePanel").getComponent("upgradePanel").hide(),cc.find("Canvas/backPack").getComponent("BackPackUI").hide(),cc.find("Canvas/defiPanel").getComponent("DefiUI").hide(),cc.find("Canvas/tipPanel").getComponent("TipPanelUI").hide(),this.heroSlots)for(var e=0;e<this.heroSlots.length;++e)this.heroSlots[e].destroy();var t=cc.sys.localStorage.getItem("swapHeroData");t&&(a=JSON.parse(t),s=a),n=1,i=parseInt(s.length/36)+1,999!=r&&this.selectCate(this,r),o=s.slice(0,36),this.checkPage(),this.heroSlots=[];for(var c=0;c<o.length;++c){var l=this.addHeroSlot(c);this.heroSlots.push(l)}this.node.active=!0,this.node.emit("fade-in"),this.home.toggleHomeBtns(!1)},hide:function(){if(cc.find("Canvas/Shop/catePan/all").getComponent(cc.Toggle).isChecked=!0,cc.find("Canvas/Shop/sortPan/nftup").getComponent(cc.Toggle).isChecked=!0,this.heroSlots)for(var e=0;e<this.heroSlots.length;++e)this.heroSlots[e].destroy();this.node.emit("fade-out"),this.home.toggleHomeBtns(!0)},checkPage:function(){this.btnPre.active=n>1,this.btnNext.active=i>n},goToNext:function(){for(var e=0;e<this.heroSlots.length;++e)this.heroSlots[e].destroy();n+=1,o=s.slice(36*(n-1),36*n),this.checkPage(),this.heroSlots=[],console.log(o);for(var t=0;t<o.length;++t){var i=this.addHeroSlot(t);this.heroSlots.push(i)}},goToPre:function(){for(var e=0;e<this.heroSlots.length;++e)this.heroSlots[e].destroy();n-=1,o=s.slice(36*(n-1),36*n),this.checkPage(),this.heroSlots=[];for(var t=0;t<o.length;++t){var i=this.addHeroSlot(t);this.heroSlots.push(i)}},selectCate:function(e,t){if(r!=t){r=t;for(var l=0;l<this.heroSlots.length;++l)this.heroSlots[l].destroy();s=999==t?a:a.filter(function(e){return e.category==t}),999!=c&&this.sortDate(this,c),n=1,i=parseInt(s.length/36)+1,o=s.slice(0,36),this.checkPage(),this.heroSlots=[];for(var h=0;h<o.length;++h){var u=this.addHeroSlot(h);this.heroSlots.push(u)}}},sortDate:function(e,t){if(c!=t){c=t;for(var i=0;i<this.heroSlots.length;++i)this.heroSlots[i].destroy();s=1==t?s.sort(function(e,t){return parseFloat(e.nft_value)-parseFloat(t.nft_value)}):s.sort(function(e,t){return parseFloat(e.nft_value)-parseFloat(t.nft_value)}).reverse(),n=1,o=s.slice(0,36),this.checkPage(),this.heroSlots=[];for(var a=0;a<o.length;++a){var r=this.addHeroSlot(a);this.heroSlots.push(r)}}}}),cc._RF.pop()},{}],ShowMask:[function(e,t){"use strict";cc._RF.push(t,"78c7dPnl5JF/p5GDHEQRYOC","ShowMask"),cc.Class({extends:cc.Component,start:function(){this.getComponent(cc.Sprite).enabled=!0}}),cc._RF.pop()},{}],SortMng:[function(e,t){"use strict";cc._RF.push(t,"61165e1leJB+4dbkFmx1myT","SortMng"),cc.Class({extends:cc.Component,properties:{},init:function(){this.frameCount=0},update:function(){++this.frameCount%6==0&&this.sortChildrenByY()},sortChildrenByY:function(){var e=this.node.children.slice();e.sort(function(e,t){return t.y-e.y});for(var t=0;t<e.length;++t){var n=e[t];n.active&&n.setSiblingIndex(t)}}}),cc._RF.pop()},{}],Spawn:[function(e,t){"use strict";cc._RF.push(t,"ff6d6lonApC6or/lKfhLG/z","Spawn");var n=e("Types").FoeType,i=cc.Class({name:"Spawn",properties:{foeType:{default:n.Foe0,type:n},total:0,spawnInterval:0,isCompany:!1},ctor:function(){this.spawned=0,this.finished=!1},spawn:function(e){if(!(this.spawned>=this.total)){var t=e.requestFoe(this.foeType);return t?(this.spawned++,this.spawned===this.total&&(this.finished=!0),t):(cc.log("max foe count reached, will delay spawn"),null)}}});t.exports=i,cc._RF.pop()},{Types:"Types"}],SpriteFrameSet:[function(e,t){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=n,cc._RF.pop()},{}],SubBtnsUI:[function(e,t){"use strict";cc._RF.push(t,"6907fq75H1EIrLmj/AFBg+B","SubBtnsUI"),cc.Class({extends:cc.Component,properties:{subBtnsAnim:cc.Animation,btnShowSub:cc.Button,btnHideSub:cc.Button,btnContainer:cc.Node},onLoad:function(){this.btnShowSub.node.active=!0,this.btnHideSub.node.active=!1},showSubBtns:function(){this.btnContainer.active=!0,this.subBtnsAnim.play("sub_pop")},hideSubBtns:function(){this.subBtnsAnim.play("sub_fold")},onFinishAnim:function(e){this.btnShowSub.node.active=e,this.btnHideSub.node.active=!e}}),cc._RF.pop()},{}],TabCtrl:[function(e,t){"use strict";cc._RF.push(t,"62208XJq9ZC2oNDeQGcbCab","TabCtrl"),cc.Class({extends:cc.Component,properties:{idx:0,icon:cc.Sprite,arrow:cc.Node,anim:cc.Animation},init:function(e){this.sidebar=e.sidebar,this.idx=e.idx,this.icon.spriteFrame=e.iconSF,this.node.on("touchstart",this.onPressed.bind(this),this.node),this.arrow.scale=cc.v2(0,0)},onPressed:function(){this.sidebar.tabPressed(this.idx)},turnBig:function(){this.anim.play("tab_turn_big")},turnSmall:function(){this.anim.play("tab_turn_small")}}),cc._RF.pop()},{}],TipPanelUI:[function(e,t){"use strict";cc._RF.push(t,"fe2fbXLQTFPxKiH8TBYh+Rt","TipPanelUI");var n=[{tit:"tip_nonetit",des:"tip_none"},{tit:"info_pricetit",des:"info_price"},{tit:"nav_store",des:"nav_risk"},{tit:"tip_systoptit",des:"tip_systop"},{tit:"tip_failtit",des:"tip_fail"},{tit:"tip_selltit",des:"tip_sell"},{tit:"tip_claimtit",des:"tip_claim"},{tit:"tip_unstaketit",des:"tip_unstake"},{tit:"tip_staketit",des:"tip_stake"},{tit:"tip_pooltit",des:"tip_pool"}];cc.Class({extends:cc.Component,properties:{labelTitle:{default:null,type:cc.Label},labelDes:{default:null,type:cc.Label}},init:function(){},show:function(e,t){this.labelTitle.getComponent("LocalizedLabel").dataID=n[parseInt(t)].tit,this.labelDes.getComponent("LocalizedLabel").dataID=n[parseInt(t)].des,this.node.active=!0,this.node.emit("fade-in")},hide:function(){cc.find("Canvas/tipPanel/error").getComponent(cc.Label).string="",this.node.emit("fade-out")}}),cc._RF.pop()},{}],Types:[function(e,t){"use strict";cc._RF.push(t,"5693aA1l/JEiq6SPSIEPrEp","Types");var n=cc.Enum({Demon:-1,SkeletonKing:-1}),i=cc.Enum({Foe0:-1,Foe1:-1,Foe2:-1,Foe3:-1,Foe5:-1,Foe6:-1,Boss1:-1,Boss2:-1}),o=cc.Enum({Arrow:-1,Fireball:-1,None:999}),a=cc.Enum({BG0:-1,BG1:-1,BG2:-1,BG3:-1});t.exports={BossType:n,FoeType:i,ProjectileType:o,BGs:a},cc._RF.pop()},{}],WaveMng:[function(e,t){"use strict";cc._RF.push(t,"2709b0GKQpMn4dRodMMty4Z","WaveMng"),e("Foe"),e("Types").FoeType;var n=e("Types").BossType,i=e("Spawn"),o=cc.Class({name:"Wave",properties:{spawns:{default:[],type:i},bossType:{default:n.Demon,type:n}},init:function(){this.totalFoes=0,this.spawnIdx=0;for(var e=0;e<this.spawns.length;++e)!1===this.spawns[e].isCompany&&(this.totalFoes+=this.spawns[e].total)},getNextSpawn:function(){return this.spawnIdx++,this.spawnIdx<this.spawns.length?this.spawns[this.spawnIdx]:null}});cc.Class({extends:cc.Component,properties:{waves:{default:[],type:o},startWaveIdx:0,spawnMargin:0,killedFoe:{visible:!1,default:0,notify:function(){if(this.currentWave&&this.waveTotalFoes&&(this.waveTotalFoes&&this.killedFoe>=this.waveTotalFoes&&this.endWave(),this.waveProgress&&this.waveTotalFoes)){var e=Math.min(this.killedFoe/this.waveTotalFoes,1);this.waveProgress.updateProgress(e)}}},waveProgress:cc.Node,bossProgress:cc.Node},init:function(e){this.game=e,this.player=e.player,this.foeGroup=e.foeGroup,this.waveIdx=this.startWaveIdx,this.spawnIdx=0,this.currentWave=this.waves[this.waveIdx],this.waveProgress=this.waveProgress.getComponent("WaveProgress"),this.waveProgress.init(this),this.bossProgress=this.bossProgress.getComponent("BossProgress"),this.bossProgress.init(this)},startSpawn:function(){this.schedule(this.spawnFoe,this.currentSpawn.spawnInterval)},startBossSpawn:function(e){this.bossSpawn=e,this.waveTotalFoes=e.total,this.killedFoe=0,this.schedule(this.spawnBossFoe,e.spawnInterval)},endSpawn:function(){this.unschedule(this.spawnFoe);var e=this.currentWave.getNextSpawn();e&&(this.currentSpawn=e,this.startSpawn(),e.isCompany&&this.startBoss())},startWave:function(){this.unschedule(this.spawnFoe),this.currentWave.init(),this.waveTotalFoes=this.currentWave.totalFoes,this.killedFoe=0,this.currentSpawn=this.currentWave.spawns[this.currentWave.spawnIdx],this.startSpawn(),this.game.inGameUI.showWave(this.waveIdx+1)},startBoss:function(){this.bossProgress.show(),this.game.bossMng.startBoss()},endWave:function(){this.bossProgress.hide(),this.game.bossMng.endBoss(),this.waveIdx<this.waves.length-1?(this.waveIdx++,this.currentWave=this.waves[this.waveIdx],this.startWave()):cc.log("all waves spawned!")},spawnFoe:function(){if(this.currentSpawn.finished)this.endSpawn();else{var e=this.currentSpawn.spawn(this.game.poolMng);e&&(this.foeGroup.addChild(e),e.setPosition(this.getNewFoePosition()),e.getComponent("Foe").init(this))}},spawnBossFoe:function(){this.bossSpawn.finished&&this.unschedule(this.spawnBossFoe);var e=this.bossSpawn.spawn(this.game.poolMng);e&&(this.foeGroup.addChild(e),e.setPosition(this.getNewFoePosition()),e.getComponent("Foe").init(this))},spawnProjectile:function(e,t,n){var i=this.game.poolMng.requestProjectile(e);i?(this.foeGroup.addChild(i),i.setPosition(t),i.getComponent("Projectile").init(this,n)):cc.log("requesting too many projectiles! please increase size")},killFoe:function(){this.killedFoe++},hitFoe:function(){this.game.cameraShake()},despawnFoe:function(e){var t=e.foeType;this.game.poolMng.returnFoe(t,e.node)},despawnProjectile:function(e){var t=e.projectileType;this.game.poolMng.returnProjectile(t,e.node)},getNewFoePosition:function(){var e=2*(Math.random()-.5)*(this.foeGroup.width-this.spawnMargin)/2,t=2*(Math.random()-.5)*(this.foeGroup.height-this.spawnMargin)/2;return cc.v2(e,t)}}),cc._RF.pop()},{Foe:"Foe",Spawn:"Spawn",Types:"Types"}],WaveProgress:[function(e,t){"use strict";cc._RF.push(t,"a90aa7G1q5ANJGKlnUcA6SL","WaveProgress"),cc.Class({extends:cc.Component,properties:{bar:cc.ProgressBar,head:cc.Node,lerpDuration:0},onLoad:function(){},init:function(e){this.waveMng=e,this.bar.progress=0,this.curProgress=0,this.destProgress=0,this.timer=0,this.isLerping=!1},updateProgress:function(e){this.curProgress=this.bar.progress,this.destProgress=e,this.timer=0,this.isLerping=!0},update:function(e){if(!1!==this.isLerping){this.timer+=e,this.timer>=this.lerpDuration&&(this.timer=this.lerpDuration,this.isLerping=!1),this.bar.progress=cc.misc.lerp(this.curProgress,this.destProgress,this.timer/this.lerpDuration);var t=this.bar.barSprite.node.width*this.bar.progress;this.head.x=t}}}),cc._RF.pop()},{}],WaveUI:[function(e,t){"use strict";cc._RF.push(t,"389b4yNsLZD8oJXlec0Kfzr","WaveUI"),cc.Class({extends:cc.Component,properties:{labelWave:cc.Label,anim:cc.Animation},onLoad:function(){},show:function(e){this.labelWave.string=e,this.anim.play("wave-pop")},hide:function(){this.node.active=!1}}),cc._RF.pop()},{}],buybox:[function(e,t){"use strict";cc._RF.push(t,"994f8vZghNOmJ96EbbQ8cRs","buybox"),cc.Class({extends:cc.Component,properties:{boxlabel:{default:null,type:cc.Node}},start:function(){},setTXT1:function(e){this.boxlabel.active=!0,this.boxlabel.getComponent("DyLabel").setText(e),this.scheduleOnce(function(){this.boxlabel.active=!1}.bind(this),1)},setTXT5:function(e){this.boxlabel.active=!0,this.boxlabel.getComponent("DyLabel").setText(e),this.scheduleOnce(function(){this.boxlabel.active=!1}.bind(this),.5)}}),cc._RF.pop()},{}],camera:[function(e,t){"use strict";cc._RF.push(t,"76318cmQJZOdaCO3bT4ziCW","camera"),cc.Class({extends:cc.Component,properties:{mainCamera:cc.Camera},onLoad:function(){this.canvas=cc.find("Canvas")},updateCamera:function(){var e=this.mainCamera.node.x-this.node.x,t=this.mainCamera.node.y-this.node.y;e=Math.abs(e)>100?e:0,t=Math.abs(t)>100?t:0;var n=this.mainCamera.node.x-e/60,i=this.mainCamera.node.y-t/60;this.mainCamera.node.x=n,this.mainCamera.node.y=i},update:function(e){this.updateCamera(e)}}),cc._RF.pop()},{}],en:[function(e,t){"use strict";cc._RF.push(t,"46419NkJsNKuJo1gS4QALVU","en"),t.exports={current:"Current language: ",create_language:"New language",language:"Language",create:"Create",cancel:"Cancel",nav_home:"Home",nav_box:"Box",nav_nft:"NFT",nav_defi:"DeFi",nav_store:"Store",nav_risk:"Risk",tip_systoptit:"System suspended",tip_systop:"System suspended, please visit later.",tip_nonetit:"Under development",tip_none:"It has not been launched yet, please look forward to it.",tip_selltit:"Sell successfully",tip_sell:"The NFT has been sold successfully. The specific situation shall be based on the data on the chain.",tip_claimtit:"Claim successfully",tip_claim:"Has successfully received the earnings\u3002The specific situation shall be based on the data on the chain.",tip_staketit:"Stake successfully",tip_stake:"Has successfully staked the NFT\u3002The specific situation shall be based on the data on the chain.",tip_unstaketit:"Unstake successfully",tip_unstake:"Has successfully unstaked the NFT\u3002The specific situation shall be based on the data on the chain.",info_pricetit:"Blindbox price",info_price:"The first five thousand blind boxes are fixed as 5EOS, and then the price of the blind box will change linearly with the heat of the market. The rock bottom price is 5EOS, and every time one is sold, the price increases by 0.1EOS; if no one buys it, it lowers 0.1EOS every hour.",tip_failtit:"Transaction failed",tip_fail:"Make sure you have sufficient RAM, CPU, Net resources or EOS.",tip_pooltit:"Mining rules",tip_pool:"Cccpool will release 1/1000 cccdefi every day. Players will divide the CCC(cccdefi) according to the duration and NFT value. For the specific algorithm, please see the white paper.",box_open:"Open all",hero_cate:"Cate:",hero_sell:"Sell",hero_buy:"Buy",hero_upgrade:"Upgrade",hero_merge:"Merge",hero_stake:"Stake",hero_uptip:"Need to destroy the same category of NFT, and it is lossy.",defi_claim:"Claim",defi_earnings:"Estimated earnings",defi_equip:"Equip",defi_remove:"Remove",defi_unstake:"Unstake",defi_stake:"Stake"},cc._RF.pop()},{}],heroPanelUI:[function(e,t){"use strict";cc._RF.push(t,"e9705Nd5ppNQ5Gt7lKoW5yA","heroPanelUI");var n,i,o,a=[{zh_HK:"\u7a7a",en:"None"},{zh_HK:"\u91d1",en:"Gold"},{zh_HK:"\u6728",en:"Wood"},{zh_HK:"\u6c34",en:"Water"},{zh_HK:"\u706b",en:"Fire"},{zh_HK:"\u571f",en:"Ground"}];cc.Class({extends:cc.Component,properties:{title:cc.Label,nftid:cc.Label,nftvalue:cc.Label,nftprice:cc.Label,level:cc.Label,genes:cc.Label,att:cc.Label,des:cc.Label,mdata:cc.Label,sfAttributes:{default:[],type:cc.SpriteFrame},spAttribute:{default:null,type:cc.Sprite}},updatePanelDate:function(e){var t="en",n=cc.sys.localStorage.getItem("curLang");n&&(t=n);var s="en"==t?a[e.category].en:a[e.category].zh_HK;this.title.string=e.token_name,this.nftid.string=e.id,this.nftvalue.string=e.nft_value,this.level.string=e.level,this.genes.string=e.genes,this.att.string=s,this.des.string=e.token_summary,this.mdata.string=e.mdata,this.spAttribute.spriteFrame=this.sfAttributes[e.category],i=e.id,null!=e.price&&(o=e.price,this.nftprice.string=e.price),cc.sys.localStorage.setItem("HeroDataCurrent",JSON.stringify(e))},setSlot:function(e){this.slot=e,console.log("slot:"+this.slot)},buyHero:function(){o&&(n=1,cc.find("CCC").getComponent("CCCManager").buyHero(n,i,o))},sellHero:function(){o&&(n=1,cc.find("CCC").getComponent("CCCManager").sellHero(n,i,o))},stakeHero:function(){cc.find("CCC").getComponent("CCCManager").stakeHero(i)},unstakeHero:function(){console.log("slot:"+this.slot),cc.find("CCC").getComponent("CCCManager").unstakeHero(this.slot)}}),cc._RF.pop()},{}],hero:[function(e,t){"use strict";cc._RF.push(t,"74be9udA3FFSIKIjQf6NJQI","hero");var n=["att_1","att_2","att_3","att_4"],i=["player"];cc.Class({extends:cc.Component,properties:{leftButton:cc.Node,rightButton:cc.Node,hpBar:cc.Node,blackNode:cc.Node},onLoad:function(){this.dbDisplay=this.node.getComponent(dragonBones.ArmatureDisplay),this.dbArmature=this.dbDisplay.armature(),this.defSkinId=0,this.wepDisplay=cc.find("sword").getComponent(dragonBones.ArmatureDisplay),this.eyeDisplay=cc.find("eyes").getComponent(dragonBones.ArmatureDisplay),this.node.zIndex=2,this.node.isDie=!1,this._speed=0,this.moveSpeed=200,this._faceDir=1,this._onButton=!1,this.game=this.node.parent.getComponent("game"),this.attCount=0,this.node.cW={x:this.node.width/2,y:this.node.height},this.dbDisplay.on(dragonBones.EventObject.COMPLETE,this.aniComplete,this),this.dbDisplay.on(dragonBones.EventObject.FRAME_EVENT,this.frameEvent,this),this.setEvent(),this.init()},init:function(){this.ROLE={att:30,wepId:0,hp:200,totalHp:200,dodgeLen:200,dodgeSpeed:20},this.idleAni(),this.updateWep(),console.log(this.node.name),this.updateHandr()},updateHero:function(e){var t=this.string_to_arr(e.genes);this.updateSkin(t[0]),this.dbArmature.getSlot("slot_hair").displayIndex=t[2],this.dbArmature.getSlot("slot_item").displayIndex=t[4],this.updateHat(t[1]),this.updateEye(t[3]),this.updateBody(t[5]),this.updateArmL(t[6]),this.updateArmR(t[7]),this.updateHand(t[8]),this.updateLegL(t[9]),this.updateLegR(t[10]),this.updateFoot(t[11]),this.updateWing(e.category,e.level),this.updateWep()},changeSkin:function(){if(!this.node.isDie){this.defSkinId=this.defSkinId<i.length-1?this.defSkinId+1:0;var e=i[this.defSkinId];this.dbDisplay.armatureName=e,this.dbArmature=this.dbDisplay.armature(),this.updateWep()}},changeWep:function(){if(0==this.defSkinId&&!this.node.isDie){var e=Math.floor(20*Math.random());this.ROLE.wepId=e,this.updateWep()}},updateWep:function(){if(0==this.defSkinId){var e=this.wepDisplay.buildArmature("s_"+this.ROLE.wepId);this.dbArmature.getSlot("weapon").childArmature=e.armature(),Math.floor(9*Math.random())}},string_to_arr:function(e){for(var t=new Array,n=0;n<12;++n)t[n]=".12345abcdefghijklmnopqrstuvwxyz".indexOf(e.charAt(n));return t},updateHandr:function(){if(0==this.defSkinId){this.dbArmature.getSlot("slot_hair").displayIndex=Math.floor(31*Math.random()),this.dbArmature.getSlot("slot_item").displayIndex=Math.floor(31*Math.random()),this.dbArmature.getSlot("slot_body_1").displayIndex=0,this.dbArmature.getSlot("slot_body_2").displayIndex=0,this.dbArmature.getSlot("slot_foot_r").displayIndex=1,this.dbArmature.getSlot("slot_foot_l").displayIndex=1;var e=Math.floor(6*Math.random()),t=Math.floor(4*Math.random());this.updateEye(e),this.updateSkin(t),this.updateWing(0,6);var n=Math.floor(32*Math.random());this.updateHat(0),this.updateBody(n);var i=Math.floor(32*Math.random()),o=Math.floor(32*Math.random());this.updateArmL(i),this.updateArmR(o),this.updateLegL(i),this.updateLegR(o),this.updateFoot(o)}},updateSkin:function(e){for(var t=["skin_head","skin_ear","skin_body_1","skin_body_2","skin_neck","skin_arm_1_r","skin_arm_2_r","skin_hand_r","skin_arm_1_l","skin_arm_2_l","skin_hand_l","skin_hip","skin_leg_1_r","skin_leg_2_r","skin_foot_r","skin_leg_1_l","skin_leg_2_l","skin_foot_l"],n=0;n<t.length;n++)this.dbArmature.getSlot(t[n]).displayIndex=e},updateHat:function(e){this.dbArmature.getSlot("slot_hat").displayIndex=void 0,0!=e&&(this.dbArmature.getSlot("slot_hat").displayIndex=e-1,this.dbArmature.getSlot("slot_hair").displayIndex=void 0,this.dbArmature.getSlot("slot_item").displayIndex=void 0)},updateEye:function(e){var t=this.eyeDisplay.buildArmature("e_"+e);t.timeScale=(e+1)/3,this.dbArmature.getSlot("skin_eyes").childArmature=t.armature()},updateBody:function(e){0==e?(this.dbArmature.getSlot("slot_body_1").displayIndex=void 0,this.dbArmature.getSlot("slot_body_2").displayIndex=void 0):e<=8?(this.dbArmature.getSlot("slot_body_1").displayIndex=e-1,this.dbArmature.getSlot("slot_body_2").displayIndex=e-1):(this.dbArmature.getSlot("slot_body_1").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_body_2").displayIndex=e%8)},updateArmL:function(e){0==e?(this.dbArmature.getSlot("slot_arm_1_l").displayIndex=void 0,this.dbArmature.getSlot("slot_arm_2_l").displayIndex=void 0):e<=8?(this.dbArmature.getSlot("slot_arm_1_l").displayIndex=e-1,this.dbArmature.getSlot("slot_arm_2_l").displayIndex=e-1):(this.dbArmature.getSlot("slot_arm_1_l").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_arm_2_l").displayIndex=e%8)},updateArmR:function(e){0==e?(this.dbArmature.getSlot("slot_arm_1_r").displayIndex=void 0,this.dbArmature.getSlot("slot_arm_2_r").displayIndex=void 0):e<=8?(this.dbArmature.getSlot("slot_arm_1_r").displayIndex=e-1,this.dbArmature.getSlot("slot_arm_2_r").displayIndex=e-1):(this.dbArmature.getSlot("slot_arm_1_r").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_arm_2_r").displayIndex=e%8)},updateHand:function(e){0==e?(this.dbArmature.getSlot("slot_hand_l").displayIndex=void 0,this.dbArmature.getSlot("slot_hand_r").displayIndex=void 0):e<=8?(this.dbArmature.getSlot("slot_hand_l").displayIndex=e-1,this.dbArmature.getSlot("slot_hand_r").displayIndex=e-1):(this.dbArmature.getSlot("slot_hand_l").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_hand_r").displayIndex=e%8)},updateLegL:function(e){e<8?(this.dbArmature.getSlot("slot_hip").displayIndex=e,this.dbArmature.getSlot("slot_leg_1_l").displayIndex=e,this.dbArmature.getSlot("slot_leg_2_l").displayIndex=e):e<16?(this.dbArmature.getSlot("slot_hip").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_leg_1_l").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_leg_2_l").displayIndex=void 0):(this.dbArmature.getSlot("slot_hip").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_leg_1_l").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_leg_2_l").displayIndex=e%8)},updateLegR:function(e){e<8?(this.dbArmature.getSlot("slot_leg_1_r").displayIndex=e,this.dbArmature.getSlot("slot_leg_2_r").displayIndex=e):e<16?(this.dbArmature.getSlot("slot_leg_1_r").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_leg_2_r").displayIndex=void 0):(this.dbArmature.getSlot("slot_leg_1_r").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_leg_2_r").displayIndex=e%8)},updateFoot:function(e){0==e?(this.dbArmature.getSlot("slot_foot_l").displayIndex=void 0,this.dbArmature.getSlot("slot_foot_r").displayIndex=void 0):e<=8?(this.dbArmature.getSlot("slot_foot_l").displayIndex=e-1,this.dbArmature.getSlot("slot_foot_r").displayIndex=e-1):(this.dbArmature.getSlot("slot_foot_l").displayIndex=Math.floor(e/4),this.dbArmature.getSlot("slot_foot_r").displayIndex=e%8)},updateWing:function(e,t){for(var n=["slot_wing_1_r","slot_wing_1_l","slot_wing_2_r","slot_wing_2_l","slot_wing_3_r","slot_wing_3_l"],i=0;i<n.length;i++)this.dbArmature.getSlot(n[i]).displayIndex=e;if(t<5)for(var o=5-t,a=0;a<o;a++)this.dbArmature.getSlot(n[a]).displayIndex=void 0},aniComplete:function(){this.node.isDie||(this._onButton?this.attackAni():this.idleAni())},frameEvent:function(e){this.node.isDie||e.name},setEvent:function(){this.node.parent.on("touchstart",this.touchStart,this),this.node.parent.on("touchend",this.touchEnd,this),this.node.parent.on("touchcancel",this.touchCancel,this)},offEvent:function(){this.node.parent.off("touchstart",this.touchStart,this),this.node.parent.off("touchend",this.touchEnd,this),this.node.parent.off("touchcancel",this.touchCancel,this)},touchStart:function(e){this._onButton=!0;var t="left"==e.target.name?1:-1;this.dbDisplay.playAnimation("die"),this._faceDir=t,this._speed=this.moveSpeed*t,this.node.scaleX=t,this.dbArmature.animation.fadeIn("move",-1,-1,0,"normal")},dodge:function(e){var t=this;this.dbArmature.animation.fadeIn("avoid",-1,-1,0,"normal"),this.blackNode.active=!0;var n=cc.Vec2.distance(this.node.position,cc.v2(this.boundary*e,0));n=n<this.ROLE.dodgeLen?n:this.ROLE.dodgeLen,cc.tween(this.node).by(.2,{position:cc.v2(n*e,0)}).call(function(){t.blackNode.active=!1,t.idleAni()}).start()},touchEnd:function(){this._onButton=!1,this._speed=0},touchCancel:function(e){this._onButton=!1;var t=e.getStartLocation().y-e.getLocation().y;console.log(t),t>0?console.log("down"):(console.log("up"),this.lv=this.node.getComponent(cc.RigidBody).linearVelocity,this.lv.y=300,this.node.getComponent(cc.RigidBody).linearVelocity=this.lv),this._speed=0},idleAni:function(){this.node.isDie||this.dbArmature.animation.fadeIn("idle",-1,-1,0,"normal",dragonBones.AnimationFadeOutMode.All)},attackAni:function(){if(!this.node.isDie){var e=n[this.attCount];this.dbArmature.animation.fadeIn(e,-1,-1,0,"normal"),this.attCount=this.attCount<3?this.attCount+1:0}},uatt:function(e){if(!this.node.isDie){var t=this.ROLE.hp-e;if(this.game.showHit(e,cc.v2(this.node.x,this.node.y+this.node.height)),t<=0)return this.node.isDie=!0,this.offEvent(this.leftButton),this.offEvent(this.rightButton),this.dbDisplay.off(dragonBones.EventObject.COMPLETE,this.aniComplete,this),this.dbDisplay.off(dragonBones.EventObject.FRAME_EVENT,this.frameEvent,this),this.ROLE.hp=0,this.hpBar.width=0,void this.dbDisplay.playAnimation("die");this.hpBar.width=t/this.ROLE.totalHp*200,this.ROLE.hp=t}},invincible:function(e){this.node.getComponents(cc.Collider)[0].enabled=e},move:function(){},update:function(){this.node.isDie||0!=this._speed&&this.move()}}),cc._RF.pop()},{}],lang:[function(e,t){"use strict";cc._RF.push(t,"9c976I235RPkKlUSj0oxbVx","lang"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},changeLanguage:function(t,n){this.i18n=e("LanguageData"),n!==window.i18n.curLang&&(this.i18n.init(n),this.i18n.updateSceneRenderers(),window.i18n.curLang=n,cc.sys.localStorage.setItem("curLang",n))}}),cc._RF.pop()},{LanguageData:"LanguageData"}],message:[function(e,t){"use strict";cc._RF.push(t,"95574VrxSdPEp3OvmCe+y4K","message"),cc.Class({extends:cc.Component,properties:{marqueeLabel:cc.Label,mask:cc.Node},onLoad:function(){this.descs=[],this.marqeeIndex=0,this.marqueeBg=this.node,this.marqueeBg.opacity=0},setMsg:function(e){this.descs=e},update:function(){try{var e=this.descs.length-1,t=this.descs[e];t&&(this.runMarqeeBar(t),this.descs[e]=null)}catch(n){}},runMarqeeBar:function(e){var t=this;this.marqueeBg.opacity=255,this.marqueeLabel.node.x=this.mask.width,this.marqueeLabel.string=e,this.marqueeLabel.node.runAction(cc.sequence(cc.moveTo(30,-this.marqueeLabel.node.width,0),cc.callFunc(function(){t.descs.pop(),t.isExistContent()||t.descs.unshift(t.desc1)},this,this)))},isExistContent:function(){return!!this.descs[this.descs.length-1]}}),cc._RF.pop()},{}],"polyglot.min":[function(e,t,n){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min"),function(e,i){"function"==typeof define&&define.amd?define([],function(){return i(e)}):"object"==typeof n?t.exports=i(e):e.Polyglot=i(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||c}function n(e){var t,n,i,o={};for(t in e)if(e.hasOwnProperty(t))for(i in n=e[t])o[n[i]]=t;return o}function i(e){return e.replace(/^\s+|\s+$/g,"")}function o(e,t,n){var o;return null!=n&&e?i((o=e.split(h))[s(t,n)]||o[0]):e}function a(e){var t=n(p);return t[e]||t.en}function s(e,t){return u[a(e)](t)}function r(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}function c(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function l(e){var t={};for(var n in e)t[n]=e[n];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var n;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],t&&(i=t+"."+i),"object"==typeof n?this.extend(n,i):this.phrases[i]=n)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var n,i;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof t._?n=t._:this.allowMissing?n=e:(this.warn('Missing translation for key: "'+e+'"'),i=e),"string"==typeof n&&(t=l(t),i=r(i=o(n,this.currentLocale,t.smart_count),t)),i},t.prototype.has=function(e){return e in this.phrases};var h="||||",u={chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},p={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],upgradePanel:[function(e,t){"use strict";cc._RF.push(t,"b2938IN11dAPLuPK5tVh07/","upgradePanel");var n,i,o,a,s=[],r=[],c=[],l=999,h=999,u=[];cc.Class({extends:cc.Component,properties:{slotPrefab:{default:null,type:cc.Prefab},scrollView:{default:null,type:cc.ScrollView},mainHero:cc.Node,btnPre:cc.Node,btnNext:cc.Node},addMidHeroSlot:function(e){var t=cc.instantiate(this.slotPrefab);return this.mainHero.addChild(t),t.getComponent("HeroSlot").updateHeroslot(e.genes),t.getComponent("HeroSlot").refresh(e),t},addHeroSlot:function(e){var t=cc.instantiate(this.slotPrefab);this.scrollView.content.addChild(t),t.getComponent("HeroSlot").updateHeroslot(s[e].genes),t.getComponent("HeroSlot").refresh(s[e]);var n=new cc.Component.EventHandler;return n.target=this.node,n.component="upgradePanel",n.handler="onClickItem",n.customEventData={index:e},t.getComponent("HeroSlot").dbbutton.clickEvents.push(n),t},onClickItem:function(e,t){e.target;var n=t.index;u.includes(s[n].id)?(this.heroSlots[n].getChildByName("btn_dot").active=!1,u=u.filter(function(e){return e!=s[n].id})):u.length<16&&(this.heroSlots[n].getChildByName("btn_dot").active=!0,u.push(s[n].id)),console.log(u)},show:function(){u=[];var e=cc.sys.localStorage.getItem("HeroDataCurrent");n=JSON.parse(e),l=n.category,i=n.id;var t=this.addMidHeroSlot(n);this.heroSlotCur=t;var h=cc.sys.localStorage.getItem("HeroData");h&&(r=JSON.parse(h)),c=(c=r.filter(function(e){return e.category==l})).filter(function(e){return e.id!=i}),o=1,a=parseInt(c.length/36)+1,s=c.slice(0,36),this.checkPage(),this.heroSlots=[];for(var p=0;p<s.length;++p){var d=this.addHeroSlot(p);u.includes(s[p].id)&&(d.getChildByName("btn_dot").active=!0),this.heroSlots.push(d)}this.node.active=!0,this.node.emit("fade-in")},hide:function(){if(this.heroSlots){for(var e=0;e<this.heroSlots.length;++e)this.heroSlots[e].destroy();this.heroSlotCur.destroy()}this.node.emit("fade-out")},checkPage:function(){this.btnPre.active=o>1,this.btnNext.active=a>o},goToNext:function(){for(var e=0;e<this.heroSlots.length;++e)this.heroSlots[e].destroy();o+=1,s=c.slice(36*(o-1),36*o),this.checkPage(),this.heroSlots=[],console.log(s);for(var t=0;t<s.length;++t){var n=this.addHeroSlot(t);u.includes(s[t].id)&&(n.getChildByName("btn_dot").active=!0),this.heroSlots.push(n)}},goToPre:function(){for(var e=0;e<this.heroSlots.length;++e)this.heroSlots[e].destroy();o-=1,s=c.slice(36*(o-1),36*o),this.checkPage(),this.heroSlots=[];for(var t=0;t<s.length;++t){var n=this.addHeroSlot(t);u.includes(s[t].id)&&(n.getChildByName("btn_dot").active=!0),this.heroSlots.push(n)}},sortDate:function(e,t){if(h!=t){h=t;for(var n=0;n<this.heroSlots.length;++n)this.heroSlots[n].destroy();c=1==t?c.sort(function(e,t){return parseFloat(e.nft_value)-parseFloat(t.nft_value)}):c.sort(function(e,t){return parseFloat(e.nft_value)-parseFloat(t.nft_value)}).reverse(),o=1,s=c.slice(0,36),this.checkPage(),this.heroSlots=[];for(var i=0;i<s.length;++i){var a=this.addHeroSlot(i);u.includes(s[i].id)&&(a.getChildByName("btn_dot").active=!0),this.heroSlots.push(a)}}},upgrade:function(){cc.find("CCC").getComponent("CCCManager").upgrade("herobox.ccc",i,u)}}),cc._RF.pop()},{}],use_reversed_rotateBy:[function(e,t){"use strict";cc._RF.push(t,"84a69TC3olAWputa74dQNL5","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"175723Wd0hF54LTbMzfvy4J","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"717fdCQYqVNlqoEU50uXboH","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(e,t){"use strict";cc._RF.push(t,"70014gVuQ1IMLvafpl/+4a9","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}],zh:[function(e,t){"use strict";cc._RF.push(t,"01b0a3AYrJCRKUQX2C/M3Gf","zh"),t.exports={current:"\u5f53\u524d\u8bed\u8a00\uff1a",create_language:"\u521b\u5efa\u65b0\u8bed\u8a00",language:"\u8bed\u8a00\u540d\u79f0",create:"\u521b\u5efa",cancel:"\u53d6\u6d88",nav_home:"\u9996\u9875",nav_box:"\u76f2\u76d2",nav_nft:"NFT",nav_defi:"DeFi",nav_store:"\u5e02\u573a",nav_risk:"\u5192\u9669",tip_systoptit:"\u7cfb\u7edf\u6682\u505c",tip_systop:"\u7cfb\u7edf\u6682\u505c\uff0c\u8bf7\u7a0d\u5019\u8bbf\u95ee\u3002",tip_nonetit:"\u5f00\u53d1\u4e2d",tip_none:"\u6682\u672a\u63a8\u51fa\uff0c\u656c\u8bf7\u671f\u5f85\u3002",tip_selltit:"\u9500\u552e\u6210\u529f",tip_sell:"\u8be5NFT\u5df2\u7ecf\u6210\u529f\u9500\u552e\u3002\u5177\u4f53\u60c5\u51b5\u4ee5\u94fe\u4e0a\u6570\u636e\u4e3a\u51c6\u3002",tip_claimtit:"\u9886\u53d6\u6210\u529f",tip_claim:"\u5df2\u7ecf\u6210\u529f\u9886\u53d6\u6536\u76ca\u3002\u5177\u4f53\u60c5\u51b5\u4ee5\u94fe\u4e0a\u6570\u636e\u4e3a\u51c6\u3002",tip_staketit:"\u8d28\u62bc\u6210\u529f",tip_stake:"\u5df2\u7ecf\u6210\u529f\u8d28\u62bcNFT\u3002\u5177\u4f53\u60c5\u51b5\u4ee5\u94fe\u4e0a\u6570\u636e\u4e3a\u51c6\u3002",tip_unstaketit:"\u89e3\u9664\u8d28\u62bc",tip_unstake:"\u5df2\u7ecf\u6210\u529f\u53d6\u56deNFT\u3002\u5177\u4f53\u60c5\u51b5\u4ee5\u94fe\u4e0a\u6570\u636e\u4e3a\u51c6\u3002",info_pricetit:"\u76f2\u76d2\u4ef7\u683c",info_price:"\u524d\u4e94\u5343\u4e2a\u76f2\u76d2\u56fa\u5b9a\u4e3a5EOS\uff0c\u4e4b\u540e\u76f2\u76d2\u4ef7\u683c\u4f1a\u968f\u7740\u5e02\u573a\u70ed\u5ea6\u800c\u7ebf\u6027\u53d8\u5316\u3002\u5e95\u4ef7\u662f5EOS\uff0c\u6bcf\u5356\u51fa\u4e00\u4e2a\uff0c\u4ef7\u683c\u589e\u52a00.1EOS\uff1b\u5982\u679c\u65e0\u4eba\u8d2d\u4e70\uff0c\u6bcf\u96941\u5c0f\u65f6\u4f1a\u964d\u4f4e0.1EOS\u3002",tip_failtit:"\u63d0\u4ea4\u4e8b\u52a1\u5931\u8d25",tip_fail:"\u8bf7\u786e\u4fdd\u6709\u8db3\u591f\u7684RAM\u3001CPU\u3001Net\u8d44\u6e90\u6216EOS\u3002",tip_pooltit:"\u8d28\u62bc\u6316\u77ff\u89c4\u5219",tip_pool:"cccpool \u6bcf\u5929\u5c06\u6709\u5343\u5206\u4e4b\u4e00\u91ca\u653ecccdefi\u3002\u73a9\u5bb6\u6839\u636e\u65f6\u957f\u548cNFT\u8d28\u62bc\u503c\u6765\u5206cccdefi\u7684CCC\u4ee3\u5e01\u3002\u5177\u4f53\u7b97\u6cd5\u8bf7\u770b\u767d\u76ae\u4e66\u3002",box_open:"\u4e00\u952e\u6253\u5f00",hero_cate:"\u5c5e\u6027\uff1a",hero_sell:"\u51fa\u552e",hero_buy:"\u8d2d\u4e70",hero_upgrade:"\u5347\u7ea7",hero_merge:"\u7194\u70bc",hero_stake:"\u8d28\u62bc",hero_uptip:"\u5347\u7ea7NFT\uff0c\u9700\u9500\u6bc1\u540c\u7c7b\u522b\u7684NFT\uff0c\u5e76\u6709\u635f\u8017",defi_claim:"\u9886\u53d6",defi_earnings:"\u9884\u4f30\u6536\u76ca",defi_equip:"\u88c5\u5907",defi_remove:"\u5378\u4e0b",defi_unstake:"\u53d6\u56de",defi_stake:"\u8d28\u62bc"},cc._RF.pop()},{}]},{},["DyLabel","ItemList","ItemTemplate","en","zh","use_reversed_rotateBy","use_reversed_rotateTo","use_v2.1-2.2.1_cc.Toggle_event","use_v2.1.x_cc.Action","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min","BossMng","Foe","Move","Player","Projectile","Spawn","WaveMng","hero","AnimHelper","BGPool","BackPackUI","BoxUI","ButtonScaler","CCCManager","ChargeUI","DefiUI","EnergyCounter","Game","HeroSlot","HomeUI","NodePool","PanelTransition","PanelUI","PoolMng","ComboDisplay","KillDisplay","PlayerFX","SortMng","ShopUI","ShowMask","SubBtnsUI","TipPanelUI","Types","BossProgress","ButtonScaler1","DeathUI","GameOverUI","HomeUI1","InGameUI","WaveProgress","WaveUI","buybox","camera","heroPanelUI","lang","message","MainMenu","MenuSidebar","TabCtrl","upgradePanel"]);